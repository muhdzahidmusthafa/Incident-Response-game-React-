{"ast":null,"code":"import { __assign, __rest } from \"tslib\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\nimport Option from '../internal/components/option';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport checkControlled from '../internal/hooks/check-controlled';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { getBaseProps } from '../internal/base-component';\nimport SpaceBetween from '../space-between/internal';\nimport DismissButton from './dismiss-button';\nimport SelectToggle from './toggle';\nimport styles from './styles.css.js';\nexport default function InternalTokenGroup(_a) {\n  var items = _a.items,\n      alignment = _a.alignment,\n      onDismiss = _a.onDismiss,\n      __internalRootRef = _a.__internalRootRef,\n      limit = _a.limit,\n      props = __rest(_a, [\"items\", \"alignment\", \"onDismiss\", \"__internalRootRef\", \"limit\"]);\n\n  checkControlled('TokenGroup', 'items', items, 'onDismiss', onDismiss);\n\n  var _b = useState(false),\n      expanded = _b[0],\n      setExpanded = _b[1];\n\n  var controlId = useUniqueId();\n  var hasItems = items.length > 0;\n  var hasHiddenItems = hasItems && limit !== undefined && items.length > limit;\n  var slicedItems = hasHiddenItems && !expanded ? items.slice(0, limit) : items;\n  var baseProps = getBaseProps(props);\n  var className = clsx(baseProps.className, styles.root, hasItems && styles['has-items']);\n  return React.createElement(\"div\", __assign({}, baseProps, {\n    className: className,\n    ref: __internalRootRef\n  }), hasItems && React.createElement(SpaceBetween, {\n    id: controlId,\n    direction: alignment,\n    size: \"xs\"\n  }, slicedItems.map(function (item, itemIndex) {\n    return React.createElement(Token, __assign({\n      key: itemIndex\n    }, item, {\n      onDismiss: function () {\n        return fireNonCancelableEvent(onDismiss, {\n          itemIndex: itemIndex\n        });\n      }\n    }));\n  })), hasHiddenItems && React.createElement(SelectToggle, {\n    controlId: controlId,\n    allHidden: limit === 0,\n    expanded: expanded,\n    numberOfHiddenOptions: items.length - slicedItems.length,\n    i18nStrings: props.i18nStrings,\n    onClick: function () {\n      return setExpanded(!expanded);\n    }\n  }));\n}\nexport function Token(_a) {\n  var disabled = _a.disabled,\n      dismissLabel = _a.dismissLabel,\n      onDismiss = _a.onDismiss,\n      props = __rest(_a, [\"disabled\", \"dismissLabel\", \"onDismiss\"]);\n\n  return React.createElement(\"div\", {\n    className: clsx(styles.token, disabled && styles['token-disabled']),\n    \"aria-disabled\": disabled ? 'true' : undefined\n  }, React.createElement(Option, {\n    option: __assign(__assign({}, props), {\n      disabled: disabled\n    })\n  }), React.createElement(DismissButton, {\n    disabled: disabled,\n    dismissLabel: dismissLabel,\n    onDismiss: onDismiss\n  }));\n}","map":{"version":3,"mappings":"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","names":["React","useState","clsx","Option","fireNonCancelableEvent","checkControlled","useUniqueId","getBaseProps","SpaceBetween","DismissButton","SelectToggle","styles","InternalTokenGroup","_a","alignment","onDismiss","__internalRootRef","limit","props","items","expanded","setExpanded","controlId","hasItems","length","hasHiddenItems","undefined","slicedItems","slice","baseProps","className","root","ref","id","direction","size","map","item","itemIndex","Token","__assign","key","allHidden","numberOfHiddenOptions","i18nStrings","onClick","dismissLabel","token","disabled","option"],"sourceRoot":"","sources":["../../../src/token-group/internal.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\n\nimport Option from '../internal/components/option';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport checkControlled from '../internal/hooks/check-controlled';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { getBaseProps } from '../internal/base-component';\n\nimport SpaceBetween from '../space-between/internal';\n\nimport { TokenGroupProps } from './interfaces';\nimport DismissButton from './dismiss-button';\nimport SelectToggle from './toggle';\n\nimport styles from './styles.css.js';\nimport { SomeRequired } from '../internal/types';\n\ntype InternalTokenGroupProps = SomeRequired<TokenGroupProps, 'items' | 'alignment'> & InternalBaseComponentProps;\n\nexport default function InternalTokenGroup({\n  items,\n  alignment,\n  onDismiss,\n  __internalRootRef,\n  limit,\n  ...props\n}: InternalTokenGroupProps) {\n  checkControlled('TokenGroup', 'items', items, 'onDismiss', onDismiss);\n\n  const [expanded, setExpanded] = useState(false);\n  const controlId = useUniqueId();\n\n  const hasItems = items.length > 0;\n  const hasHiddenItems = hasItems && limit !== undefined && items.length > limit;\n  const slicedItems = hasHiddenItems && !expanded ? items.slice(0, limit) : items;\n\n  const baseProps = getBaseProps(props);\n  const className = clsx(baseProps.className, styles.root, hasItems && styles['has-items']);\n\n  return (\n    <div {...baseProps} className={className} ref={__internalRootRef}>\n      {hasItems && (\n        <SpaceBetween id={controlId} direction={alignment} size=\"xs\">\n          {slicedItems.map((item: TokenGroupProps.Item, itemIndex) => (\n            <Token key={itemIndex} {...item} onDismiss={() => fireNonCancelableEvent(onDismiss, { itemIndex })} />\n          ))}\n        </SpaceBetween>\n      )}\n      {hasHiddenItems && (\n        <SelectToggle\n          controlId={controlId}\n          allHidden={limit === 0}\n          expanded={expanded}\n          numberOfHiddenOptions={items.length - slicedItems.length}\n          i18nStrings={props.i18nStrings}\n          onClick={() => setExpanded(!expanded)}\n        />\n      )}\n    </div>\n  );\n}\n\ninterface TokenProps extends TokenGroupProps.Item {\n  onDismiss?: () => void;\n}\n\nexport function Token({ disabled, dismissLabel, onDismiss, ...props }: TokenProps) {\n  return (\n    <div\n      className={clsx(styles.token, disabled && styles['token-disabled'])}\n      aria-disabled={disabled ? 'true' : undefined}\n    >\n      <Option\n        option={{\n          ...props,\n          disabled,\n        }}\n      />\n      <DismissButton disabled={disabled} dismissLabel={dismissLabel} onDismiss={onDismiss} />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}