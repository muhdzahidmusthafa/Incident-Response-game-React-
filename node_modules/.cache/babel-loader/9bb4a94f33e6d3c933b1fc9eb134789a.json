{"ast":null,"code":"import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport logger from 'redux-logger';\nimport rootReducer from '../reducers/rootReducer';\n\nconst configureStore = function () {\n  let preloadedState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const store = createStore(rootReducer, preloadedState, composeWithDevTools(applyMiddleware(thunk, logger)));\n  store.subscribe(() => {\n    let state = store.getState();\n    let modifiedState = { ...state,\n      data: {\n        textData: {},\n        choicesData: {},\n        linkNodesData: {}\n      }\n    };\n    localStorage.state = JSON.stringify(modifiedState);\n  });\n  return store;\n};\n\nexport default configureStore;","map":{"version":3,"names":["createStore","applyMiddleware","composeWithDevTools","thunk","logger","rootReducer","configureStore","preloadedState","store","subscribe","state","getState","modifiedState","data","textData","choicesData","linkNodesData","localStorage","JSON","stringify"],"sources":["/Users/igostu/repos/dissertation/src/store/store.js"],"sourcesContent":["import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport logger from 'redux-logger';\r\n\r\nimport rootReducer from '../reducers/rootReducer';\r\n\r\nconst configureStore = (preloadedState = {}) => {\r\n  const store = createStore(\r\n    rootReducer,\r\n    preloadedState,\r\n    composeWithDevTools(applyMiddleware(thunk, logger))\r\n    );\r\n\r\n  store.subscribe(() => {\r\n    let state = store.getState();\r\n    \r\n    let modifiedState = {\r\n      ...state,\r\n      data: {\r\n        textData: {},\r\n        choicesData: {},\r\n        linkNodesData: {}\r\n      }\r\n    }\r\n    \r\n    localStorage.state = JSON.stringify(modifiedState);\r\n  });\r\n  return store;\r\n}\r\n\r\nexport default configureStore;"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,eAAtB,QAA6C,OAA7C;AACA,SAASC,mBAAT,QAAoC,0BAApC;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AAEA,OAAOC,WAAP,MAAwB,yBAAxB;;AAEA,MAAMC,cAAc,GAAG,YAAyB;EAAA,IAAxBC,cAAwB,uEAAP,EAAO;EAC9C,MAAMC,KAAK,GAAGR,WAAW,CACvBK,WADuB,EAEvBE,cAFuB,EAGvBL,mBAAmB,CAACD,eAAe,CAACE,KAAD,EAAQC,MAAR,CAAhB,CAHI,CAAzB;EAMAI,KAAK,CAACC,SAAN,CAAgB,MAAM;IACpB,IAAIC,KAAK,GAAGF,KAAK,CAACG,QAAN,EAAZ;IAEA,IAAIC,aAAa,GAAG,EAClB,GAAGF,KADe;MAElBG,IAAI,EAAE;QACJC,QAAQ,EAAE,EADN;QAEJC,WAAW,EAAE,EAFT;QAGJC,aAAa,EAAE;MAHX;IAFY,CAApB;IASAC,YAAY,CAACP,KAAb,GAAqBQ,IAAI,CAACC,SAAL,CAAeP,aAAf,CAArB;EACD,CAbD;EAcA,OAAOJ,KAAP;AACD,CAtBD;;AAwBA,eAAeF,cAAf"},"metadata":{},"sourceType":"module"}