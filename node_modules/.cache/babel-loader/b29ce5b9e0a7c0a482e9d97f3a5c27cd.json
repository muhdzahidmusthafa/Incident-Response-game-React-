{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useLayoutEffect, useState } from 'react';\nimport { createPortal } from 'react-dom';\n/**\n * A safe react portal component that renders to a provided node.\n * If a node isn't provided, it creates one under document.body.\n */\n\nexport default function Portal(_a) {\n  var container = _a.container,\n      children = _a.children;\n\n  var _b = useState(container !== null && container !== void 0 ? container : null),\n      activeContainer = _b[0],\n      setActiveContainer = _b[1];\n\n  useLayoutEffect(function () {\n    if (container) {\n      setActiveContainer(container);\n      return;\n    }\n\n    var newContainer = document.createElement('div');\n    document.body.appendChild(newContainer);\n    setActiveContainer(newContainer);\n    return function () {\n      document.body.removeChild(newContainer);\n      setActiveContainer(null);\n    };\n  }, [container]);\n  return activeContainer && createPortal(children, activeContainer);\n}","map":{"version":3,"mappings":"AAAA;AACA;AACA,SAAgBA,eAAhB,EAAiCC,QAAjC,QAAiD,OAAjD;AACA,SAASC,YAAT,QAA6B,WAA7B;AAOA;;;;;AAIA,eAAc,SAAUC,MAAV,CAAiBC,EAAjB,EAAqD;MAAlCC,SAAS;MAAEC,QAAQ;;EAC5C,SAAwCL,QAAQ,CAAiBI,SAAS,SAAT,aAAS,WAAT,eAAa,IAA9B,CAAhD;EAAA,IAACE,eAAe,QAAhB;EAAA,IAAkBC,kBAAkB,QAApC;;EAENR,eAAe,CAAC;IACd,IAAIK,SAAJ,EAAe;MACbG,kBAAkB,CAACH,SAAD,CAAlB;MACA;IACD;;IACD,IAAMI,YAAY,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAArB;IACAD,QAAQ,CAACE,IAAT,CAAcC,WAAd,CAA0BJ,YAA1B;IACAD,kBAAkB,CAACC,YAAD,CAAlB;IACA,OAAO;MACLC,QAAQ,CAACE,IAAT,CAAcE,WAAd,CAA0BL,YAA1B;MACAD,kBAAkB,CAAC,IAAD,CAAlB;IACD,CAHD;EAID,CAZc,EAYZ,CAACH,SAAD,CAZY,CAAf;EAcA,OAAOE,eAAe,IAAIL,YAAY,CAACI,QAAD,EAAWC,eAAX,CAAtC;AACD","names":["useLayoutEffect","useState","createPortal","Portal","_a","container","children","activeContainer","setActiveContainer","newContainer","document","createElement","body","appendChild","removeChild"],"sourceRoot":"","sources":["../../../../../src/internal/components/portal/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useLayoutEffect, useState } from 'react';\nimport { createPortal } from 'react-dom';\n\nexport interface PortalProps {\n  container?: Element;\n  children: React.ReactNode;\n}\n\n/**\n * A safe react portal component that renders to a provided node.\n * If a node isn't provided, it creates one under document.body.\n */\nexport default function Portal({ container, children }: PortalProps) {\n  const [activeContainer, setActiveContainer] = useState<Element | null>(container ?? null);\n\n  useLayoutEffect(() => {\n    if (container) {\n      setActiveContainer(container);\n      return;\n    }\n    const newContainer = document.createElement('div');\n    document.body.appendChild(newContainer);\n    setActiveContainer(newContainer);\n    return () => {\n      document.body.removeChild(newContainer);\n      setActiveContainer(null);\n    };\n  }, [container]);\n\n  return activeContainer && createPortal(children, activeContainer);\n}\n"]},"metadata":{},"sourceType":"module"}