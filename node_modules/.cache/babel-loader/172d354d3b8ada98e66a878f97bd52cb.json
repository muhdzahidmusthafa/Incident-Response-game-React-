{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { differenceInMonths } from 'date-fns'; // Helper to move the focus to the given moveCallback's date. It checks\n// the availability of that date and moves forward until this date is enabled.\n// If the entire month in the requested direction has no enabled dates,\n// it returns the currently focused date.\n\nvar moveFocusHandler = function (focussed, isDateEnabled, moveCallback) {\n  var current = moveCallback(focussed);\n\n  if (!isDateEnabled) {\n    return current;\n  }\n\n  while (!isDateEnabled(current)) {\n    if (Math.abs(differenceInMonths(focussed, current)) > 1) {\n      return focussed;\n    }\n\n    current = moveCallback(current);\n  }\n\n  return current;\n};\n\nexport default moveFocusHandler;","map":{"version":3,"mappings":"AAAA;AACA;AACA,SAASA,kBAAT,QAAmC,UAAnC,C,CAOA;AACA;AACA;AACA;;AACA,IAAMC,gBAAgB,GAAqB,UAACC,QAAD,EAAiBC,aAAjB,EAAgCC,YAAhC,EAAkE;EAC3G,IAAIC,OAAO,GAAGD,YAAY,CAACF,QAAD,CAA1B;;EACA,IAAI,CAACC,aAAL,EAAoB;IAClB,OAAOE,OAAP;EACD;;EAED,OAAO,CAACF,aAAa,CAACE,OAAD,CAArB,EAAgC;IAC9B,IAAIC,IAAI,CAACC,GAAL,CAASP,kBAAkB,CAACE,QAAD,EAAWG,OAAX,CAA3B,IAAkD,CAAtD,EAAyD;MACvD,OAAOH,QAAP;IACD;;IACDG,OAAO,GAAGD,YAAY,CAACC,OAAD,CAAtB;EACD;;EACD,OAAOA,OAAP;AACD,CAbD;;AAeA,eAAeJ,gBAAf","names":["differenceInMonths","moveFocusHandler","focussed","isDateEnabled","moveCallback","current","Math","abs"],"sourceRoot":"","sources":["../../../../../src/date-picker/calendar/utils/move-focus-handler.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { differenceInMonths } from 'date-fns';\nimport { DatePickerProps } from '../../interfaces';\n\nexport interface MoveFocusHandler {\n  (focusedDate: Date, isDateEnabled: DatePickerProps.IsDateEnabledFunction, moveHandler: (date: Date) => Date): Date;\n}\n\n// Helper to move the focus to the given moveCallback's date. It checks\n// the availability of that date and moves forward until this date is enabled.\n// If the entire month in the requested direction has no enabled dates,\n// it returns the currently focused date.\nconst moveFocusHandler: MoveFocusHandler = (focussed: Date, isDateEnabled, moveCallback: (date: Date) => Date) => {\n  let current = moveCallback(focussed);\n  if (!isDateEnabled) {\n    return current;\n  }\n\n  while (!isDateEnabled(current)) {\n    if (Math.abs(differenceInMonths(focussed, current)) > 1) {\n      return focussed;\n    }\n    current = moveCallback(current);\n  }\n  return current;\n};\n\nexport default moveFocusHandler;\n"]},"metadata":{},"sourceType":"module"}