{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\moham\\\\ReactProject\\\\incident-response\\\\src\\\\components\\\\GamePage\\\\GamePage.jsx\";\nimport React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport constants from \"../../globals/constants\";\nimport GameManager from \"../../mechanics/GameManager\";\nimport { GameNavBar } from \"./GameNavBar\";\nimport { GameText } from \"./GameText\";\nimport { GameChoicesList } from \"./GameChoicesList\";\nimport { image_list } from \"../../storyModules/image\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class GamePage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dispatchSent: false\n    };\n    this.checkIfModuleLoaded = this.checkIfModuleLoaded.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.checkIfModuleLoaded()) {\n      GameManager.loadGame();\n    }\n  } // Check if text data is loaded in Redux store\n\n\n  checkIfModuleLoaded() {\n    return GameManager.checkIfModuleLoaded(constants.MODULE_INCIDENT);\n  }\n\n  render() {\n    const {\n      text,\n      choices,\n      textWasUpdated,\n      resetTextUpdate\n    } = this.props; // Add and then remove fade-in CSS class when text was updated\n    // This allows text to fade in once a decision is made.\n    // A timer is used to reset the textWasUpdated variable in the Redux store\n    // so that the fade-in effect can be used again the next time the text changes.\n    // The dispatchSent property is used in the component state so the render function\n    // doesn't keep sending resetTextUpdate() dispatches to Redux.\n\n    const faderClass = textWasUpdated ? \"game-text-container fade-in\" : \"game-text-container\";\n\n    if (textWasUpdated && !this.state.dispatchSent) {\n      this.setState({\n        dispatchSent: true\n      });\n      setTimeout(() => {\n        resetTextUpdate();\n        this.setState({\n          dispatchSent: false\n        });\n      }, 1000);\n    } // If module isn't loaded, redirect to menu screen\n\n\n    if (!this.checkIfModuleLoaded()) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-page\",\n      children: [/*#__PURE__*/_jsxDEV(GameNavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: faderClass,\n          children: [/*#__PURE__*/_jsxDEV(GameText, {\n            text: text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GameChoicesList, {\n            choices: choices\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","Redirect","constants","GameManager","GameNavBar","GameText","GameChoicesList","image_list","GamePage","Component","constructor","props","state","dispatchSent","checkIfModuleLoaded","bind","componentDidMount","loadGame","MODULE_INCIDENT","render","text","choices","textWasUpdated","resetTextUpdate","faderClass","setState","setTimeout"],"sources":["C:/Users/moham/ReactProject/incident-response/src/components/GamePage/GamePage.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport constants from \"../../globals/constants\";\r\nimport GameManager from \"../../mechanics/GameManager\";\r\n\r\nimport { GameNavBar } from \"./GameNavBar\";\r\nimport { GameText } from \"./GameText\";\r\nimport { GameChoicesList } from \"./GameChoicesList\";\r\nimport { image_list } from \"../../storyModules/image\";\r\n\r\nexport class GamePage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      dispatchSent: false,\r\n    };\r\n\r\n    this.checkIfModuleLoaded = this.checkIfModuleLoaded.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.checkIfModuleLoaded()) {\r\n      GameManager.loadGame();\r\n    }\r\n  }\r\n\r\n  // Check if text data is loaded in Redux store\r\n  checkIfModuleLoaded() {\r\n    return GameManager.checkIfModuleLoaded(constants.MODULE_INCIDENT);\r\n  }\r\n\r\n  render() {\r\n    const { text, choices, textWasUpdated, resetTextUpdate } = this.props;\r\n\r\n    // Add and then remove fade-in CSS class when text was updated\r\n    // This allows text to fade in once a decision is made.\r\n    // A timer is used to reset the textWasUpdated variable in the Redux store\r\n    // so that the fade-in effect can be used again the next time the text changes.\r\n    // The dispatchSent property is used in the component state so the render function\r\n    // doesn't keep sending resetTextUpdate() dispatches to Redux.\r\n    const faderClass = textWasUpdated\r\n      ? \"game-text-container fade-in\"\r\n      : \"game-text-container\";\r\n\r\n    if (textWasUpdated && !this.state.dispatchSent) {\r\n      this.setState({ dispatchSent: true });\r\n\r\n      setTimeout(() => {\r\n        resetTextUpdate();\r\n        this.setState({ dispatchSent: false });\r\n      }, 1000);\r\n    }\r\n\r\n    // If module isn't loaded, redirect to menu screen\r\n    if (!this.checkIfModuleLoaded()) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"game-page\">\r\n        <GameNavBar />\r\n        <div className=\"d-flex justify-content-center\">\r\n          <div className={faderClass}>\r\n            \r\n            <GameText text={text} />\r\n            \r\n            <GameChoicesList choices={choices} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAEA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AAEA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,QAAT,QAAyB,YAAzB;AACA,SAASC,eAAT,QAAgC,mBAAhC;AACA,SAASC,UAAT,QAA2B,0BAA3B;;AAEA,OAAO,MAAMC,QAAN,SAAuBR,KAAK,CAACS,SAA7B,CAAuC;EAC5CC,WAAW,CAACC,KAAD,EAAQ;IACjB,MAAMA,KAAN;IAEA,KAAKC,KAAL,GAAa;MACXC,YAAY,EAAE;IADH,CAAb;IAIA,KAAKC,mBAAL,GAA2B,KAAKA,mBAAL,CAAyBC,IAAzB,CAA8B,IAA9B,CAA3B;EACD;;EAEDC,iBAAiB,GAAG;IAClB,IAAI,KAAKF,mBAAL,EAAJ,EAAgC;MAC9BX,WAAW,CAACc,QAAZ;IACD;EACF,CAf2C,CAiB5C;;;EACAH,mBAAmB,GAAG;IACpB,OAAOX,WAAW,CAACW,mBAAZ,CAAgCZ,SAAS,CAACgB,eAA1C,CAAP;EACD;;EAEDC,MAAM,GAAG;IACP,MAAM;MAAEC,IAAF;MAAQC,OAAR;MAAiBC,cAAjB;MAAiCC;IAAjC,IAAqD,KAAKZ,KAAhE,CADO,CAGP;IACA;IACA;IACA;IACA;IACA;;IACA,MAAMa,UAAU,GAAGF,cAAc,GAC7B,6BAD6B,GAE7B,qBAFJ;;IAIA,IAAIA,cAAc,IAAI,CAAC,KAAKV,KAAL,CAAWC,YAAlC,EAAgD;MAC9C,KAAKY,QAAL,CAAc;QAAEZ,YAAY,EAAE;MAAhB,CAAd;MAEAa,UAAU,CAAC,MAAM;QACfH,eAAe;QACf,KAAKE,QAAL,CAAc;UAAEZ,YAAY,EAAE;QAAhB,CAAd;MACD,CAHS,EAGP,IAHO,CAAV;IAID,CApBM,CAsBP;;;IACA,IAAI,CAAC,KAAKC,mBAAL,EAAL,EAAiC;MAC/B,oBAAO,QAAC,QAAD;QAAU,EAAE,EAAC;MAAb;QAAA;QAAA;QAAA;MAAA,QAAP;IACD;;IAED,oBACE;MAAK,SAAS,EAAC,WAAf;MAAA,wBACE,QAAC,UAAD;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAK,SAAS,EAAC,+BAAf;QAAA,uBACE;UAAK,SAAS,EAAEU,UAAhB;UAAA,wBAEE,QAAC,QAAD;YAAU,IAAI,EAAEJ;UAAhB;YAAA;YAAA;YAAA;UAAA,QAFF,eAIE,QAAC,eAAD;YAAiB,OAAO,EAAEC;UAA1B;YAAA;YAAA;YAAA;UAAA,QAJF;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAaD;;AA9D2C"},"metadata":{},"sourceType":"module"}