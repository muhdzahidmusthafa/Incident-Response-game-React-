{"ast":null,"code":"import { __assign, __rest } from \"tslib\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useContext, useEffect } from 'react';\nimport styles from './styles.css.js';\nimport { hotspotContext as hotspotContextType } from '../annotation-context/context';\nimport clsx from 'clsx';\nimport { getBaseProps } from '../internal/base-component';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nexport default function Hotspot(_a) {\n  var children = _a.children,\n      hotspotId = _a.hotspotId,\n      _b = _a.side,\n      side = _b === void 0 ? 'right' : _b,\n      _c = _a.direction,\n      direction = _c === void 0 ? 'top' : _c,\n      restProps = __rest(_a, [\"children\", \"hotspotId\", \"side\", \"direction\"]);\n\n  var __internalRootRef = useBaseComponent('Hotspot').__internalRootRef;\n\n  var baseProps = getBaseProps(restProps);\n  var hotspotContext = useContext(hotspotContextType);\n  var content = hotspotContext.getContentForId(hotspotId, direction);\n  var unregisterHotspot = hotspotContext.unregisterHotspot,\n      registerHotspot = hotspotContext.registerHotspot;\n  useEffect(function () {\n    registerHotspot(hotspotId);\n    return function () {\n      return unregisterHotspot(hotspotId);\n    };\n  }, [hotspotId, unregisterHotspot, registerHotspot]);\n\n  if (children) {\n    return React.createElement(\"div\", __assign({}, baseProps, {\n      className: clsx(baseProps.className, styles.root, styles.wrapper),\n      ref: __internalRootRef\n    }), React.createElement(\"div\", {\n      className: styles.elementWrapper\n    }, children), React.createElement(\"div\", {\n      className: clsx(styles.markerWrapper, styles[\"placement-\".concat(side)])\n    }, content));\n  }\n\n  return React.createElement(\"span\", __assign({}, baseProps, {\n    className: clsx(baseProps.className, styles.root, styles.inlineWrapper),\n    ref: __internalRootRef\n  }), content);\n}\napplyDisplayName(Hotspot, 'Hotspot');","map":{"version":3,"mappings":"0CAAA;AACA;;AACA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AAGA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAASC,cAAc,IAAIC,kBAA3B,QAAqD,+BAArD;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,YAAT,QAA6B,4BAA7B;AACA,SAASC,gBAAT,QAAiC,sCAAjC;AACA,OAAOC,gBAAP,MAA6B,sCAA7B;AAIA,eAAc,SAAUC,OAAV,CAAkBC,EAAlB,EAMC;EALb,YAAQ,cAAR;EAAA,IACAC,SAAS,eADT;EAAA,IAEAC,YAFA;EAAA,IAEAC,IAAI,mBAAG,OAAH,GAAUD,EAFd;EAAA,IAGAE,iBAHA;EAAA,IAGAC,SAAS,mBAAG,KAAH,GAAQD,EAHjB;EAAA,IAIGE,SAAS,cALkB,8CAKlB,CAJZ;;EAMQ,qBAAiB,GAAKR,gBAAgB,CAAC,SAAD,CAAhB,CAA2BS,iBAAjD;;EACR,IAAMC,SAAS,GAAGZ,YAAY,CAACU,SAAD,CAA9B;EAEA,IAAMb,cAAc,GAAGH,UAAU,CAACI,kBAAD,CAAjC;EAEA,IAAMe,OAAO,GAAGhB,cAAc,CAACiB,eAAf,CAA+BT,SAA/B,EAA0CI,SAA1C,CAAhB;EAEQ,qBAAiB,GAAsBZ,cAAc,kBAArD;EAAA,IAAmBkB,eAAe,GAAKlB,cAAc,gBAArD;EAERF,SAAS,CAAC;IACRoB,eAAe,CAACV,SAAD,CAAf;IAEA,OAAO;MAAM,wBAAiB,CAACA,SAAD,CAAjB;IAA4B,CAAzC;EACD,CAJQ,EAIN,CAACA,SAAD,EAAYW,iBAAZ,EAA+BD,eAA/B,CAJM,CAAT;;EAMA,IAAIE,QAAJ,EAAc;IACZ,OACExB,wCAASmB,SAAT,EAAkB;MAAEM,SAAS,EAAEnB,IAAI,CAACa,SAAS,CAACM,SAAX,EAAsBtB,MAAM,CAACuB,IAA7B,EAAmCvB,MAAM,CAACwB,OAA1C,CAAjB;MAAqEC,GAAG,EAAEV;IAA1E,CAAlB,GACElB;MAAKyB,SAAS,EAAEtB,MAAM,CAAC0B;IAAvB,GAAwCL,QAAxC,CADF,EAEExB;MAAKyB,SAAS,EAAEnB,IAAI,CAACH,MAAM,CAAC2B,aAAR,EAAuB3B,MAAM,CAAC,oBAAaW,IAAb,CAAD,CAA7B;IAApB,GAA0EM,OAA1E,CAFF,CADF;EAMD;;EAED,OACEpB,yCACMmB,SADN,EACe;IACbM,SAAS,EAAEnB,IAAI,CAACa,SAAS,CAACM,SAAX,EAAsBtB,MAAM,CAACuB,IAA7B,EAAmCvB,MAAM,CAAC4B,aAA1C,CADF;IAEbH,GAAG,EAAEV;EAFQ,CADf,GAKGE,OALH,CADF;AASD;AAEDZ,gBAAgB,CAACE,OAAD,EAAU,SAAV,CAAhB","names":["React","useContext","useEffect","styles","hotspotContext","hotspotContextType","clsx","getBaseProps","applyDisplayName","useBaseComponent","Hotspot","_a","hotspotId","_b","side","_c","direction","restProps","__internalRootRef","baseProps","content","getContentForId","registerHotspot","unregisterHotspot","children","className","root","wrapper","ref","elementWrapper","markerWrapper","inlineWrapper"],"sourceRoot":"","sources":["../../../src/hotspot/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useContext, useEffect } from 'react';\n\nimport { HotspotProps } from './interfaces';\nimport styles from './styles.css.js';\nimport { hotspotContext as hotspotContextType } from '../annotation-context/context';\nimport clsx from 'clsx';\nimport { getBaseProps } from '../internal/base-component';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport useBaseComponent from '../internal/hooks/use-base-component';\n\nexport { HotspotProps };\n\nexport default function Hotspot({\n  children,\n  hotspotId,\n  side = 'right',\n  direction = 'top',\n  ...restProps\n}: HotspotProps): JSX.Element {\n  const { __internalRootRef } = useBaseComponent('Hotspot');\n  const baseProps = getBaseProps(restProps);\n\n  const hotspotContext = useContext(hotspotContextType);\n\n  const content = hotspotContext.getContentForId(hotspotId, direction);\n\n  const { unregisterHotspot, registerHotspot } = hotspotContext;\n\n  useEffect(() => {\n    registerHotspot(hotspotId);\n\n    return () => unregisterHotspot(hotspotId);\n  }, [hotspotId, unregisterHotspot, registerHotspot]);\n\n  if (children) {\n    return (\n      <div {...baseProps} className={clsx(baseProps.className, styles.root, styles.wrapper)} ref={__internalRootRef}>\n        <div className={styles.elementWrapper}>{children}</div>\n        <div className={clsx(styles.markerWrapper, styles[`placement-${side}`])}>{content}</div>\n      </div>\n    );\n  }\n\n  return (\n    <span\n      {...baseProps}\n      className={clsx(baseProps.className, styles.root, styles.inlineWrapper)}\n      ref={__internalRootRef}\n    >\n      {content}\n    </span>\n  );\n}\n\napplyDisplayName(Hotspot, 'Hotspot');\n"]},"metadata":{},"sourceType":"module"}