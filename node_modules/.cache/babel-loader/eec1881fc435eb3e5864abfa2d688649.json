{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\nimport InternalBox from '../box/internal';\nimport { InternalButton } from '../button/internal';\nimport InternalStatusIndicator from '../status-indicator/internal';\nimport styles from './styles.css.js';\nvar MAX_VALUE = 100;\n\nvar clamp = function (value, lowerLimit, upperLimit) {\n  return Math.max(Math.min(value, upperLimit), lowerLimit);\n};\n\nexport var Progress = function (_a) {\n  var value = _a.value,\n      isInFlash = _a.isInFlash,\n      labelId = _a.labelId;\n  var roundedValue = Math.round(value);\n  var progressValue = clamp(roundedValue, 0, MAX_VALUE);\n  return React.createElement(\"div\", {\n    className: styles['progress-container']\n  }, React.createElement(\"progress\", {\n    className: clsx(styles.progress, progressValue >= MAX_VALUE && styles.complete, isInFlash && styles['progress-in-flash']),\n    \"aria-valuenow\": progressValue,\n    \"aria-valuemin\": 0,\n    max: MAX_VALUE,\n    value: progressValue,\n    \"aria-labelledby\": labelId\n  }), React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    className: styles['percentage-container']\n  }, React.createElement(InternalBox, {\n    className: styles.percentage,\n    variant: \"small\",\n    color: isInFlash ? 'inherit' : undefined\n  }, \"\".concat(progressValue, \"%\"))));\n};\nexport var SmallText = function (_a) {\n  var color = _a.color,\n      children = _a.children;\n  return React.createElement(InternalBox, {\n    className: styles['word-wrap'],\n    variant: \"small\",\n    display: \"block\",\n    color: color\n  }, children);\n};\n\nvar ResultButton = function (_a) {\n  var onClick = _a.onClick,\n      children = _a.children;\n  return React.createElement(\"div\", {\n    className: styles['result-button']\n  }, React.createElement(InternalButton, {\n    formAction: \"none\",\n    onClick: onClick\n  }, children));\n};\n\nexport var ResultState = function (_a) {\n  var isInFlash = _a.isInFlash,\n      resultText = _a.resultText,\n      resultButtonText = _a.resultButtonText,\n      status = _a.status,\n      onClick = _a.onClick;\n  var hasResultButton = !!resultButtonText;\n\n  if (isInFlash) {\n    return React.createElement(\"div\", {\n      className: styles[\"result-container-\".concat(status)]\n    }, React.createElement(\"span\", {\n      className: styles['result-text']\n    }, resultText));\n  }\n\n  return React.createElement(\"div\", {\n    className: styles[\"result-container-\".concat(status)]\n  }, React.createElement(\"span\", {\n    className: clsx(hasResultButton && styles['with-result-button'])\n  }, React.createElement(InternalStatusIndicator, {\n    type: status === 'success' ? 'success' : 'error'\n  }, React.createElement(\"span\", {\n    className: styles['result-text']\n  }, resultText))), hasResultButton && React.createElement(ResultButton, {\n    onClick: onClick\n  }, resultButtonText));\n};","map":{"version":3,"mappings":"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","names":["React","clsx","InternalBox","InternalButton","InternalStatusIndicator","styles","MAX_VALUE","clamp","value","lowerLimit","upperLimit","Math","max","min","Progress","_a","isInFlash","labelId","roundedValue","round","progressValue","className","progress","complete","percentage","variant","color","undefined","SmallText","children","display","ResultButton","onClick","formAction","ResultState","resultText","resultButtonText","status","hasResultButton","type"],"sourceRoot":"","sources":["../../../src/progress-bar/internal.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\nimport { BoxProps } from '../box/interfaces';\nimport InternalBox from '../box/internal';\nimport { ButtonProps } from '../button/interfaces';\nimport { InternalButton } from '../button/internal';\nimport InternalStatusIndicator from '../status-indicator/internal';\n\nimport { ProgressBarProps } from './interfaces';\nimport styles from './styles.css.js';\n\nconst MAX_VALUE = 100;\n\nconst clamp = (value: number, lowerLimit: number, upperLimit: number) => {\n  return Math.max(Math.min(value, upperLimit), lowerLimit);\n};\n\ninterface ProgressProps {\n  value: number;\n  isInFlash: boolean;\n  labelId: string;\n}\nexport const Progress = ({ value, isInFlash, labelId }: ProgressProps) => {\n  const roundedValue = Math.round(value);\n  const progressValue = clamp(roundedValue, 0, MAX_VALUE);\n\n  return (\n    <div className={styles['progress-container']}>\n      <progress\n        className={clsx(\n          styles.progress,\n          progressValue >= MAX_VALUE && styles.complete,\n          isInFlash && styles['progress-in-flash']\n        )}\n        aria-valuenow={progressValue}\n        aria-valuemin={0}\n        max={MAX_VALUE}\n        value={progressValue}\n        aria-labelledby={labelId}\n      />\n      <span aria-hidden=\"true\" className={styles['percentage-container']}>\n        <InternalBox className={styles.percentage} variant=\"small\" color={isInFlash ? 'inherit' : undefined}>\n          {`${progressValue}%`}\n        </InternalBox>\n      </span>\n    </div>\n  );\n};\n\ninterface SmallTextProps {\n  color?: BoxProps.Color;\n  children: React.ReactNode;\n}\n\nexport const SmallText = ({ color, children }: SmallTextProps) => {\n  return (\n    <InternalBox className={styles['word-wrap']} variant=\"small\" display=\"block\" color={color}>\n      {children}\n    </InternalBox>\n  );\n};\n\nconst ResultButton = ({ onClick, children }: ButtonProps) => {\n  return (\n    <div className={styles['result-button']}>\n      <InternalButton formAction=\"none\" onClick={onClick}>\n        {children}\n      </InternalButton>\n    </div>\n  );\n};\n\ninterface ResultStateProps {\n  isInFlash: boolean;\n  resultText: React.ReactNode;\n  resultButtonText?: string;\n  status: ProgressBarProps.Status;\n  onClick: () => void;\n}\n\nexport const ResultState = ({ isInFlash, resultText, resultButtonText, status, onClick }: ResultStateProps) => {\n  const hasResultButton = !!resultButtonText;\n\n  if (isInFlash) {\n    return (\n      <div className={styles[`result-container-${status}`]}>\n        <span className={styles['result-text']}>{resultText}</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles[`result-container-${status}`]}>\n      <span className={clsx(hasResultButton && styles['with-result-button'])}>\n        <InternalStatusIndicator type={status === 'success' ? 'success' : 'error'}>\n          <span className={styles['result-text']}>{resultText}</span>\n        </InternalStatusIndicator>\n      </span>\n      {hasResultButton && <ResultButton onClick={onClick}>{resultButtonText}</ResultButton>}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}