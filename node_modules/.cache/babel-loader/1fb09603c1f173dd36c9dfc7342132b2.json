{"ast":null,"code":"import { __assign, __rest } from \"tslib\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useMemo, useCallback, useEffect } from 'react';\nimport clsx from 'clsx';\nimport { getBaseProps } from '../internal/base-component';\nimport { fireNonCancelableEvent, fireCancelableEvent } from '../internal/events';\nimport { Header, ItemList } from './internal';\nimport { generateExpandableItemsMapping, checkDuplicateHrefs } from './util';\nimport styles from './styles.css.js';\nimport { isDevelopment } from '../internal/is-development';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nexport default function SideNavigation(_a) {\n  var header = _a.header,\n      activeHref = _a.activeHref,\n      _b = _a.items,\n      items = _b === void 0 ? [] : _b,\n      onFollow = _a.onFollow,\n      onChange = _a.onChange,\n      props = __rest(_a, [\"header\", \"activeHref\", \"items\", \"onFollow\", \"onChange\"]);\n\n  var __internalRootRef = useBaseComponent('SideNavigation').__internalRootRef;\n\n  var baseProps = getBaseProps(props);\n  var parentMap = useMemo(function () {\n    return generateExpandableItemsMapping(items);\n  }, [items]);\n\n  if (isDevelopment) {\n    // This code should be wiped in production anyway.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(function () {\n      return checkDuplicateHrefs(items);\n    }, [items]);\n  }\n\n  var onChangeHandler = useCallback(function (item, expanded) {\n    // generateExpandableItemsMapping walks through the entire tree, so we're certain about getting a value.\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    fireNonCancelableEvent(onChange, {\n      item: item,\n      expanded: expanded,\n      expandableParents: parentMap.get(item)\n    });\n  }, [onChange, parentMap]);\n  var onFollowHandler = useCallback(function (item, sourceEvent) {\n    fireCancelableEvent(onFollow, item, sourceEvent);\n  }, [onFollow]);\n  return React.createElement(\"div\", __assign({}, baseProps, {\n    className: clsx(styles.root, baseProps.className),\n    ref: __internalRootRef\n  }), header && React.createElement(Header, {\n    definition: header,\n    activeHref: activeHref,\n    fireChange: onChangeHandler,\n    fireFollow: onFollowHandler\n  }), items && React.createElement(\"div\", {\n    className: styles['list-container']\n  }, React.createElement(ItemList, {\n    variant: \"root\",\n    items: items,\n    fireFollow: onFollowHandler,\n    fireChange: onChangeHandler,\n    activeHref: activeHref\n  })));\n}\napplyDisplayName(SideNavigation, 'SideNavigation');","map":{"version":3,"mappings":"0CAAA;AACA;;AACA,OAAOA,KAAP,IAAgBC,OAAhB,EAAyBC,WAAzB,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,YAAT,QAA6B,4BAA7B;AACA,SAASC,sBAAT,EAAiCC,mBAAjC,QAA4D,oBAA5D;AAEA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,YAAjC;AACA,SAASC,8BAAT,EAAyCC,mBAAzC,QAAoE,QAApE;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAASC,aAAT,QAA8B,4BAA9B;AACA,SAASC,gBAAT,QAAiC,sCAAjC;AACA,OAAOC,gBAAP,MAA6B,sCAA7B;AAIA,eAAc,SAAUC,cAAV,CAAyBC,EAAzB,EAOQ;EANpB,UAAM,YAAN;EAAA,IACAC,UAAU,gBADV;EAAA,IAEAC,aAFA;EAAA,IAEAC,KAAK,mBAAG,EAAH,GAAKD,EAFV;EAAA,IAGAE,QAAQ,cAHR;EAAA,IAIAC,QAAQ,cAJR;EAAA,IAKGC,KAAK,cAN6B,yDAM7B,CALR;;EAOQ,qBAAiB,GAAKR,gBAAgB,CAAC,gBAAD,CAAhB,CAAkCS,iBAAxD;;EACR,IAAMC,SAAS,GAAGpB,YAAY,CAACkB,KAAD,CAA9B;EACA,IAAMG,SAAS,GAAGzB,OAAO,CAAC;IAAM,qCAA8B,CAACmB,KAAD,CAA9B;EAAqC,CAA5C,EAA8C,CAACA,KAAD,CAA9C,CAAzB;;EAEA,IAAIP,aAAJ,EAAmB;IACjB;IACA;IACAV,SAAS,CAAC;MAAM,0BAAmB,CAACiB,KAAD,CAAnB;IAA0B,CAAjC,EAAmC,CAACA,KAAD,CAAnC,CAAT;EACD;;EAED,IAAMO,eAAe,GAAGzB,WAAW,CACjC,UAAC0B,IAAD,EAA8EC,QAA9E,EAA+F;IAC7F;IACA;IACAvB,sBAAsB,CAACgB,QAAD,EAAW;MAAEM,IAAI,MAAN;MAAQC,QAAQ,EAAEA,QAAlB;MAA4BC,iBAAiB,EAAEJ,SAAS,CAACK,GAAV,CAAcH,IAAd;IAA/C,CAAX,CAAtB;EACD,CALgC,EAMjC,CAACN,QAAD,EAAWI,SAAX,CANiC,CAAnC;EASA,IAAMM,eAAe,GAAG9B,WAAW,CACjC,UACE0B,IADF,EAMEK,WANF,EAM2C;IAEzC1B,mBAAmB,CAACc,QAAD,EAAWO,IAAX,EAAiBK,WAAjB,CAAnB;EACD,CAVgC,EAWjC,CAACZ,QAAD,CAXiC,CAAnC;EAcA,OACErB,wCAASyB,SAAT,EAAkB;IAAES,SAAS,EAAE9B,IAAI,CAACQ,MAAM,CAACuB,IAAR,EAAcV,SAAS,CAACS,SAAxB,CAAjB;IAAqDE,GAAG,EAAEZ;EAA1D,CAAlB,GACGa,MAAM,IACLrC,oBAACQ,MAAD,EAAO;IAAC8B,UAAU,EAAED,MAAb;IAAqBnB,UAAU,EAAEA,UAAjC;IAA6CqB,UAAU,EAAEZ,eAAzD;IAA0Ea,UAAU,EAAER;EAAtF,CAAP,CAFJ,EAIGZ,KAAK,IACJpB;IAAKkC,SAAS,EAAEtB,MAAM,CAAC,gBAAD;EAAtB,GACEZ,oBAACS,QAAD,EAAS;IACPgC,OAAO,EAAC,MADD;IAEPrB,KAAK,EAAEA,KAFA;IAGPoB,UAAU,EAAER,eAHL;IAIPO,UAAU,EAAEZ,eAJL;IAKPT,UAAU,EAAEA;EALL,CAAT,CADF,CALJ,CADF;AAkBD;AAEDJ,gBAAgB,CAACE,cAAD,EAAiB,gBAAjB,CAAhB","names":["React","useMemo","useCallback","useEffect","clsx","getBaseProps","fireNonCancelableEvent","fireCancelableEvent","Header","ItemList","generateExpandableItemsMapping","checkDuplicateHrefs","styles","isDevelopment","applyDisplayName","useBaseComponent","SideNavigation","_a","activeHref","_b","items","onFollow","onChange","props","__internalRootRef","baseProps","parentMap","onChangeHandler","item","expanded","expandableParents","get","onFollowHandler","sourceEvent","className","root","ref","header","definition","fireChange","fireFollow","variant"],"sourceRoot":"","sources":["../../../src/side-navigation/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useMemo, useCallback, useEffect } from 'react';\nimport clsx from 'clsx';\nimport { getBaseProps } from '../internal/base-component';\nimport { fireNonCancelableEvent, fireCancelableEvent } from '../internal/events';\nimport { SideNavigationProps } from './interfaces';\nimport { Header, ItemList } from './internal';\nimport { generateExpandableItemsMapping, checkDuplicateHrefs } from './util';\nimport styles from './styles.css.js';\nimport { isDevelopment } from '../internal/is-development';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport useBaseComponent from '../internal/hooks/use-base-component';\n\nexport { SideNavigationProps };\n\nexport default function SideNavigation({\n  header,\n  activeHref,\n  items = [],\n  onFollow,\n  onChange,\n  ...props\n}: SideNavigationProps) {\n  const { __internalRootRef } = useBaseComponent('SideNavigation');\n  const baseProps = getBaseProps(props);\n  const parentMap = useMemo(() => generateExpandableItemsMapping(items), [items]);\n\n  if (isDevelopment) {\n    // This code should be wiped in production anyway.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(() => checkDuplicateHrefs(items), [items]);\n  }\n\n  const onChangeHandler = useCallback(\n    (item: SideNavigationProps.Section | SideNavigationProps.ExpandableLinkGroup, expanded: boolean) => {\n      // generateExpandableItemsMapping walks through the entire tree, so we're certain about getting a value.\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      fireNonCancelableEvent(onChange, { item, expanded: expanded, expandableParents: parentMap.get(item)! });\n    },\n    [onChange, parentMap]\n  );\n\n  const onFollowHandler = useCallback(\n    (\n      item:\n        | SideNavigationProps.Link\n        | SideNavigationProps.Header\n        | SideNavigationProps.LinkGroup\n        | SideNavigationProps.ExpandableLinkGroup,\n      sourceEvent: React.SyntheticEvent | Event\n    ) => {\n      fireCancelableEvent(onFollow, item, sourceEvent);\n    },\n    [onFollow]\n  );\n\n  return (\n    <div {...baseProps} className={clsx(styles.root, baseProps.className)} ref={__internalRootRef}>\n      {header && (\n        <Header definition={header} activeHref={activeHref} fireChange={onChangeHandler} fireFollow={onFollowHandler} />\n      )}\n      {items && (\n        <div className={styles['list-container']}>\n          <ItemList\n            variant=\"root\"\n            items={items}\n            fireFollow={onFollowHandler}\n            fireChange={onChangeHandler}\n            activeHref={activeHref}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\napplyDisplayName(SideNavigation, 'SideNavigation');\n"]},"metadata":{},"sourceType":"module"}