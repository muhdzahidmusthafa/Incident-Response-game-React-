{"ast":null,"code":"import { __assign, __rest } from \"tslib\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport clsx from 'clsx';\nimport React from 'react';\nimport InternalIcon from '../icon/internal';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { getBaseProps } from '../internal/base-component';\nimport useFocusVisible from '../internal/hooks/focus-visible';\nimport styles from './styles.css.js';\nimport { getPaginationState, range } from './utils';\nvar defaultAriaLabels = {\n  nextPageLabel: '',\n  previousPageLabel: '',\n  pageLabel: function (pageNumber) {\n    return \"\".concat(pageNumber);\n  }\n};\n\nfunction PageButton(_a) {\n  var className = _a.className,\n      ariaLabel = _a.ariaLabel,\n      disabled = _a.disabled,\n      pageIndex = _a.pageIndex,\n      _b = _a.isCurrent,\n      isCurrent = _b === void 0 ? false : _b,\n      children = _a.children,\n      onClick = _a.onClick;\n  var focusVisible = useFocusVisible();\n\n  function handleClick(event) {\n    event.preventDefault();\n    onClick(pageIndex);\n  }\n\n  return React.createElement(\"li\", {\n    className: styles['page-item']\n  }, React.createElement(\"button\", __assign({}, focusVisible, {\n    className: clsx(className, styles.button, disabled && styles['button-disabled'], isCurrent && styles['button-current']),\n    type: \"button\",\n    \"aria-label\": ariaLabel,\n    tabIndex: disabled ? -1 : 0,\n    disabled: disabled,\n    onClick: handleClick,\n    \"aria-current\": isCurrent\n  }), children));\n}\n\nfunction PageNumber(_a) {\n  var pageIndex = _a.pageIndex,\n      rest = __rest(_a, [\"pageIndex\"]);\n\n  return React.createElement(PageButton, __assign({\n    className: styles['page-number'],\n    pageIndex: pageIndex\n  }, rest), pageIndex);\n}\n\nexport default function InternalPagination(_a) {\n  var _b, _c, _d;\n\n  var openEnd = _a.openEnd,\n      currentPageIndex = _a.currentPageIndex,\n      ariaLabels = _a.ariaLabels,\n      pagesCount = _a.pagesCount,\n      disabled = _a.disabled,\n      onChange = _a.onChange,\n      onNextPageClick = _a.onNextPageClick,\n      onPreviousPageClick = _a.onPreviousPageClick,\n      _e = _a.__internalRootRef,\n      __internalRootRef = _e === void 0 ? null : _e,\n      rest = __rest(_a, [\"openEnd\", \"currentPageIndex\", \"ariaLabels\", \"pagesCount\", \"disabled\", \"onChange\", \"onNextPageClick\", \"onPreviousPageClick\", \"__internalRootRef\"]);\n\n  var baseProps = getBaseProps(rest);\n  var pageNumberLabelFn = (_b = ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.pageLabel) !== null && _b !== void 0 ? _b : defaultAriaLabels.pageLabel;\n\n  var _f = getPaginationState(currentPageIndex, pagesCount, openEnd),\n      leftDots = _f.leftDots,\n      leftIndex = _f.leftIndex,\n      rightIndex = _f.rightIndex,\n      rightDots = _f.rightDots;\n\n  function handlePrevPageClick(requestedPageIndex) {\n    handlePageClick(requestedPageIndex);\n    fireNonCancelableEvent(onPreviousPageClick, {\n      requestedPageAvailable: true,\n      requestedPageIndex: requestedPageIndex\n    });\n  }\n\n  function handleNextPageClick(requestedPageIndex) {\n    handlePageClick(requestedPageIndex);\n    fireNonCancelableEvent(onNextPageClick, {\n      requestedPageAvailable: currentPageIndex < pagesCount,\n      requestedPageIndex: requestedPageIndex\n    });\n  }\n\n  function handlePageClick(requestedPageIndex) {\n    fireNonCancelableEvent(onChange, {\n      currentPageIndex: requestedPageIndex\n    });\n  }\n\n  return React.createElement(\"ul\", __assign({}, baseProps, {\n    className: clsx(baseProps.className, styles.root, disabled && styles['root-disabled']),\n    ref: __internalRootRef\n  }), React.createElement(PageButton, {\n    className: styles.arrow,\n    pageIndex: currentPageIndex - 1,\n    ariaLabel: (_c = ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.previousPageLabel) !== null && _c !== void 0 ? _c : defaultAriaLabels.nextPageLabel,\n    disabled: disabled || currentPageIndex === 1,\n    onClick: handlePrevPageClick\n  }, React.createElement(InternalIcon, {\n    name: \"angle-left\",\n    variant: disabled ? 'disabled' : 'normal'\n  })), React.createElement(PageNumber, {\n    pageIndex: 1,\n    isCurrent: currentPageIndex === 1,\n    disabled: disabled,\n    ariaLabel: pageNumberLabelFn(1),\n    onClick: handlePageClick\n  }), leftDots && React.createElement(\"li\", {\n    className: styles.dots\n  }, \"...\"), range(leftIndex, rightIndex).map(function (pageIndex) {\n    return React.createElement(PageNumber, {\n      key: pageIndex,\n      isCurrent: currentPageIndex === pageIndex,\n      pageIndex: pageIndex,\n      disabled: disabled,\n      ariaLabel: pageNumberLabelFn(pageIndex),\n      onClick: handlePageClick\n    });\n  }), rightDots && React.createElement(\"li\", {\n    className: styles.dots\n  }, \"...\"), !openEnd && pagesCount > 1 && React.createElement(PageNumber, {\n    isCurrent: currentPageIndex === pagesCount,\n    pageIndex: pagesCount,\n    disabled: disabled,\n    ariaLabel: pageNumberLabelFn(pagesCount),\n    onClick: handlePageClick\n  }), React.createElement(PageButton, {\n    className: styles.arrow,\n    pageIndex: currentPageIndex + 1,\n    ariaLabel: (_d = ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.nextPageLabel) !== null && _d !== void 0 ? _d : defaultAriaLabels.nextPageLabel,\n    disabled: disabled || !openEnd && (pagesCount === 0 || currentPageIndex === pagesCount),\n    onClick: handleNextPageClick\n  }, React.createElement(InternalIcon, {\n    name: \"angle-right\",\n    variant: disabled ? 'disabled' : 'normal'\n  })));\n}","map":{"version":3,"mappings":"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","names":["clsx","React","InternalIcon","fireNonCancelableEvent","getBaseProps","useFocusVisible","styles","getPaginationState","range","defaultAriaLabels","nextPageLabel","previousPageLabel","pageLabel","pageNumber","PageButton","_a","className","ariaLabel","disabled","pageIndex","_b","isCurrent","children","onClick","focusVisible","handleClick","event","preventDefault","button","type","tabIndex","PageNumber","rest","__assign","InternalPagination","currentPageIndex","ariaLabels","pagesCount","onChange","onNextPageClick","onPreviousPageClick","_e","__internalRootRef","baseProps","pageNumberLabelFn","openEnd","leftDots","leftIndex","rightIndex","rightDots","handlePrevPageClick","requestedPageIndex","handlePageClick","requestedPageAvailable","handleNextPageClick","root","ref","arrow","_c","name","variant","dots","map","key","_d"],"sourceRoot":"","sources":["../../../src/pagination/internal.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React from 'react';\nimport InternalIcon from '../icon/internal';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { getBaseProps } from '../internal/base-component';\nimport useFocusVisible from '../internal/hooks/focus-visible';\nimport styles from './styles.css.js';\nimport { getPaginationState, range } from './utils';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { PaginationProps } from './interfaces';\n\nconst defaultAriaLabels: Required<PaginationProps.Labels> = {\n  nextPageLabel: '',\n  previousPageLabel: '',\n  pageLabel: pageNumber => `${pageNumber}`,\n};\n\ninterface PageButtonProps {\n  className?: string;\n  ariaLabel: string;\n  disabled?: boolean;\n  pageIndex: number;\n  isCurrent?: boolean;\n  children?: React.ReactNode;\n  onClick: (requestedIndex: number) => void;\n}\n\nfunction PageButton({\n  className,\n  ariaLabel,\n  disabled,\n  pageIndex,\n  isCurrent = false,\n  children,\n  onClick,\n}: PageButtonProps) {\n  const focusVisible = useFocusVisible();\n  function handleClick(event: React.MouseEvent) {\n    event.preventDefault();\n    onClick(pageIndex);\n  }\n  return (\n    <li className={styles['page-item']}>\n      <button\n        {...focusVisible}\n        className={clsx(\n          className,\n          styles.button,\n          disabled && styles['button-disabled'],\n          isCurrent && styles['button-current']\n        )}\n        type=\"button\"\n        aria-label={ariaLabel}\n        tabIndex={disabled ? -1 : 0}\n        disabled={disabled}\n        onClick={handleClick}\n        aria-current={isCurrent}\n      >\n        {children}\n      </button>\n    </li>\n  );\n}\n\nfunction PageNumber({ pageIndex, ...rest }: PageButtonProps) {\n  return (\n    <PageButton className={styles['page-number']} pageIndex={pageIndex} {...rest}>\n      {pageIndex}\n    </PageButton>\n  );\n}\n\ntype InternalPaginationProps = PaginationProps & InternalBaseComponentProps;\n\nexport default function InternalPagination({\n  openEnd,\n  currentPageIndex,\n  ariaLabels,\n  pagesCount,\n  disabled,\n  onChange,\n  onNextPageClick,\n  onPreviousPageClick,\n  __internalRootRef = null,\n  ...rest\n}: InternalPaginationProps) {\n  const baseProps = getBaseProps(rest);\n  const pageNumberLabelFn = ariaLabels?.pageLabel ?? defaultAriaLabels.pageLabel;\n  const { leftDots, leftIndex, rightIndex, rightDots } = getPaginationState(currentPageIndex, pagesCount, openEnd);\n\n  function handlePrevPageClick(requestedPageIndex: number) {\n    handlePageClick(requestedPageIndex);\n    fireNonCancelableEvent(onPreviousPageClick, {\n      requestedPageAvailable: true,\n      requestedPageIndex: requestedPageIndex,\n    });\n  }\n\n  function handleNextPageClick(requestedPageIndex: number) {\n    handlePageClick(requestedPageIndex);\n    fireNonCancelableEvent(onNextPageClick, {\n      requestedPageAvailable: currentPageIndex < pagesCount,\n      requestedPageIndex: requestedPageIndex,\n    });\n  }\n\n  function handlePageClick(requestedPageIndex: number) {\n    fireNonCancelableEvent(onChange, { currentPageIndex: requestedPageIndex });\n  }\n\n  return (\n    <ul\n      {...baseProps}\n      className={clsx(baseProps.className, styles.root, disabled && styles['root-disabled'])}\n      ref={__internalRootRef}\n    >\n      <PageButton\n        className={styles.arrow}\n        pageIndex={currentPageIndex - 1}\n        ariaLabel={ariaLabels?.previousPageLabel ?? defaultAriaLabels.nextPageLabel}\n        disabled={disabled || currentPageIndex === 1}\n        onClick={handlePrevPageClick}\n      >\n        <InternalIcon name=\"angle-left\" variant={disabled ? 'disabled' : 'normal'} />\n      </PageButton>\n      <PageNumber\n        pageIndex={1}\n        isCurrent={currentPageIndex === 1}\n        disabled={disabled}\n        ariaLabel={pageNumberLabelFn(1)}\n        onClick={handlePageClick}\n      />\n      {leftDots && <li className={styles.dots}>...</li>}\n      {range(leftIndex, rightIndex).map(pageIndex => (\n        <PageNumber\n          key={pageIndex}\n          isCurrent={currentPageIndex === pageIndex}\n          pageIndex={pageIndex}\n          disabled={disabled}\n          ariaLabel={pageNumberLabelFn(pageIndex)}\n          onClick={handlePageClick}\n        />\n      ))}\n      {rightDots && <li className={styles.dots}>...</li>}\n      {!openEnd && pagesCount > 1 && (\n        <PageNumber\n          isCurrent={currentPageIndex === pagesCount}\n          pageIndex={pagesCount}\n          disabled={disabled}\n          ariaLabel={pageNumberLabelFn(pagesCount)}\n          onClick={handlePageClick}\n        />\n      )}\n      <PageButton\n        className={styles.arrow}\n        pageIndex={currentPageIndex + 1}\n        ariaLabel={ariaLabels?.nextPageLabel ?? defaultAriaLabels.nextPageLabel}\n        disabled={disabled || (!openEnd && (pagesCount === 0 || currentPageIndex === pagesCount))}\n        onClick={handleNextPageClick}\n      >\n        <InternalIcon name=\"angle-right\" variant={disabled ? 'disabled' : 'normal'} />\n      </PageButton>\n    </ul>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}