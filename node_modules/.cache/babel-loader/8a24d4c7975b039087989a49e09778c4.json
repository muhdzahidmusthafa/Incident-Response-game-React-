{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect, useRef } from 'react'; // useEffect, which skips the initial render\n\nexport function useEffectOnUpdate(callback, deps) {\n  var isFirstRender = useRef(true);\n  useEffect(function () {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n    } else {\n      return callback();\n    } // This is a useEffect extension, will be validated at the call site\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, deps);\n}","map":{"version":3,"mappings":"AAAA;AACA;AACA,SAAyCA,SAAzC,EAAoDC,MAApD,QAAkE,OAAlE,C,CAEA;;AACA,OAAM,SAAUC,iBAAV,CAA4BC,QAA5B,EAAsDC,IAAtD,EAA0E;EAC9E,IAAMC,aAAa,GAAGJ,MAAM,CAAU,IAAV,CAA5B;EAEAD,SAAS,CAAC;IACR,IAAIK,aAAa,CAACC,OAAlB,EAA2B;MACzBD,aAAa,CAACC,OAAd,GAAwB,KAAxB;IACD,CAFD,MAEO;MACL,OAAOH,QAAQ,EAAf;IACD,CALO,CAMR;IACA;;EACD,CARQ,EAQNC,IARM,CAAT;AASD","names":["useEffect","useRef","useEffectOnUpdate","callback","deps","isFirstRender","current"],"sourceRoot":"","sources":["../../../../src/internal/hooks/use-effect-on-update.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DependencyList, EffectCallback, useEffect, useRef } from 'react';\n\n// useEffect, which skips the initial render\nexport function useEffectOnUpdate(callback: EffectCallback, deps: DependencyList) {\n  const isFirstRender = useRef<boolean>(true);\n\n  useEffect(() => {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n    } else {\n      return callback();\n    }\n    // This is a useEffect extension, will be validated at the call site\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n}\n"]},"metadata":{},"sourceType":"module"}