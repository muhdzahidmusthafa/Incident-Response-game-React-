{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport TabTrap from '../tab-trap/index';\nimport { getFirstFocusable, getLastFocusable } from './utils';\nexport default function FocusLock(_a) {\n  var disabled = _a.disabled,\n      autoFocus = _a.autoFocus,\n      children = _a.children;\n  var containerRef = useRef(null);\n\n  var focusFirst = function () {\n    var _a;\n\n    if (containerRef.current) {\n      (_a = getFirstFocusable(containerRef.current)) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n  };\n\n  var focusLast = function () {\n    var _a;\n\n    if (containerRef.current) {\n      (_a = getLastFocusable(containerRef.current)) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n  };\n\n  useEffect(function () {\n    if (autoFocus) {\n      focusFirst();\n    }\n  }, [autoFocus]);\n  return React.createElement(React.Fragment, null, React.createElement(TabTrap, {\n    disabled: disabled,\n    focusNextCallback: focusLast\n  }), React.createElement(\"div\", {\n    ref: containerRef\n  }, children), React.createElement(TabTrap, {\n    disabled: disabled,\n    focusNextCallback: focusFirst\n  }));\n}","map":{"version":3,"mappings":"AAAA;AACA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,SAASC,iBAAT,EAA4BC,gBAA5B,QAAoD,SAApD;AAQA,eAAc,SAAUC,SAAV,CAAoBC,EAApB,EAAqE;MAA/CC,QAAQ;MAAEC,SAAS;MAAEC,QAAQ;EAC/D,IAAMC,YAAY,GAAGT,MAAM,CAAiB,IAAjB,CAA3B;;EAEA,IAAMU,UAAU,GAAG;;;IACjB,IAAID,YAAY,CAACE,OAAjB,EAA0B;MACxB,uBAAiB,CAACF,YAAY,CAACE,OAAd,CAAjB,MAAuC,IAAvC,IAAuCN,aAAvC,GAAuC,MAAvC,GAAuCA,GAAEO,KAAF,EAAvC;IACD;EACF,CAJD;;EAMA,IAAMC,SAAS,GAAG;;;IAChB,IAAIJ,YAAY,CAACE,OAAjB,EAA0B;MACxB,sBAAgB,CAACF,YAAY,CAACE,OAAd,CAAhB,MAAsC,IAAtC,IAAsCN,aAAtC,GAAsC,MAAtC,GAAsCA,GAAEO,KAAF,EAAtC;IACD;EACF,CAJD;;EAMAb,SAAS,CAAC;IACR,IAAIQ,SAAJ,EAAe;MACbG,UAAU;IACX;EACF,CAJQ,EAIN,CAACH,SAAD,CAJM,CAAT;EAMA,OACET,0CACEA,oBAACG,OAAD,EAAQ;IAACK,QAAQ,EAAEA,QAAX;IAAqBQ,iBAAiB,EAAED;EAAxC,CAAR,CADF,EAEEf;IAAKiB,GAAG,EAAEN;EAAV,GAAyBD,QAAzB,CAFF,EAGEV,oBAACG,OAAD,EAAQ;IAACK,QAAQ,EAAEA,QAAX;IAAqBQ,iBAAiB,EAAEJ;EAAxC,CAAR,CAHF,CADF;AAOD","names":["React","useEffect","useRef","TabTrap","getFirstFocusable","getLastFocusable","FocusLock","_a","disabled","autoFocus","children","containerRef","focusFirst","current","focus","focusLast","focusNextCallback","ref"],"sourceRoot":"","sources":["../../../../../src/internal/components/focus-lock/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport TabTrap from '../tab-trap/index';\nimport { getFirstFocusable, getLastFocusable } from './utils';\n\nexport interface FocusLockProps {\n  disabled?: boolean;\n  autoFocus?: boolean;\n  children: React.ReactNode;\n}\n\nexport default function FocusLock({ disabled, autoFocus, children }: FocusLockProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const focusFirst = () => {\n    if (containerRef.current) {\n      getFirstFocusable(containerRef.current)?.focus();\n    }\n  };\n\n  const focusLast = () => {\n    if (containerRef.current) {\n      getLastFocusable(containerRef.current)?.focus();\n    }\n  };\n\n  useEffect(() => {\n    if (autoFocus) {\n      focusFirst();\n    }\n  }, [autoFocus]);\n\n  return (\n    <>\n      <TabTrap disabled={disabled} focusNextCallback={focusLast} />\n      <div ref={containerRef}>{children}</div>\n      <TabTrap disabled={disabled} focusNextCallback={focusFirst} />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}