{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n}; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n\nimport { useRef } from 'react';\nimport { processItems, processSelectedItems, itemsAreEqual } from './operations/index.js';\nimport { createSyncProps } from './utils.js';\nimport { useCollectionState } from './use-collection-state.js';\nexport function useCollection(allItems, options) {\n  var collectionRef = useRef(null);\n\n  var _a = useCollectionState(options, collectionRef),\n      state = _a[0],\n      actions = _a[1];\n\n  var _b = processItems(allItems, state, options),\n      items = _b.items,\n      pagesCount = _b.pagesCount,\n      filteredItemsCount = _b.filteredItemsCount,\n      actualPageIndex = _b.actualPageIndex;\n\n  if (options.selection && !options.selection.keepSelection) {\n    var newSelectedItems = processSelectedItems(items, state.selectedItems, options.selection.trackBy);\n\n    if (!itemsAreEqual(newSelectedItems, state.selectedItems, options.selection.trackBy)) {\n      // This is a recommended pattern for how to handle the state, dependent on the incoming props\n      // https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops\n      actions.setSelectedItems(newSelectedItems);\n    }\n  }\n\n  return __assign({\n    items: items,\n    filteredItemsCount: filteredItemsCount,\n    actions: actions\n  }, createSyncProps(options, state, actions, collectionRef, {\n    actualPageIndex: actualPageIndex,\n    pagesCount: pagesCount,\n    allItems: allItems\n  }));\n}","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","useRef","processItems","processSelectedItems","itemsAreEqual","createSyncProps","useCollectionState","useCollection","allItems","options","collectionRef","_a","state","actions","_b","items","pagesCount","filteredItemsCount","actualPageIndex","selection","keepSelection","newSelectedItems","selectedItems","trackBy","setSelectedItems"],"sources":["/Users/igostu/repos/dissertation/node_modules/@awsui/collection-hooks/dist/mjs/use-collection.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useRef } from 'react';\nimport { processItems, processSelectedItems, itemsAreEqual } from './operations/index.js';\nimport { createSyncProps } from './utils.js';\nimport { useCollectionState } from './use-collection-state.js';\nexport function useCollection(allItems, options) {\n    var collectionRef = useRef(null);\n    var _a = useCollectionState(options, collectionRef), state = _a[0], actions = _a[1];\n    var _b = processItems(allItems, state, options), items = _b.items, pagesCount = _b.pagesCount, filteredItemsCount = _b.filteredItemsCount, actualPageIndex = _b.actualPageIndex;\n    if (options.selection && !options.selection.keepSelection) {\n        var newSelectedItems = processSelectedItems(items, state.selectedItems, options.selection.trackBy);\n        if (!itemsAreEqual(newSelectedItems, state.selectedItems, options.selection.trackBy)) {\n            // This is a recommended pattern for how to handle the state, dependent on the incoming props\n            // https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops\n            actions.setSelectedItems(newSelectedItems);\n        }\n    }\n    return __assign({ items: items, filteredItemsCount: filteredItemsCount, actions: actions }, createSyncProps(options, state, actions, collectionRef, {\n        actualPageIndex: actualPageIndex,\n        pagesCount: pagesCount,\n        allItems: allItems,\n    }));\n}\n"],"mappings":"AAAA,IAAIA,QAAQ,GAAI,QAAQ,KAAKA,QAAd,IAA2B,YAAY;EAClDA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAASC,CAAT,EAAY;IACpC,KAAK,IAAIC,CAAJ,EAAOC,CAAC,GAAG,CAAX,EAAcC,CAAC,GAAGC,SAAS,CAACC,MAAjC,EAAyCH,CAAC,GAAGC,CAA7C,EAAgDD,CAAC,EAAjD,EAAqD;MACjDD,CAAC,GAAGG,SAAS,CAACF,CAAD,CAAb;;MACA,KAAK,IAAII,CAAT,IAAcL,CAAd,EAAiB,IAAIH,MAAM,CAACS,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,CAArC,EAAwCK,CAAxC,CAAJ,EACbN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;IACP;;IACD,OAAON,CAAP;EACH,CAPD;;EAQA,OAAOH,QAAQ,CAACa,KAAT,CAAe,IAAf,EAAqBN,SAArB,CAAP;AACH,CAVD,C,CAWA;AACA;;;AACA,SAASO,MAAT,QAAuB,OAAvB;AACA,SAASC,YAAT,EAAuBC,oBAAvB,EAA6CC,aAA7C,QAAkE,uBAAlE;AACA,SAASC,eAAT,QAAgC,YAAhC;AACA,SAASC,kBAAT,QAAmC,2BAAnC;AACA,OAAO,SAASC,aAAT,CAAuBC,QAAvB,EAAiCC,OAAjC,EAA0C;EAC7C,IAAIC,aAAa,GAAGT,MAAM,CAAC,IAAD,CAA1B;;EACA,IAAIU,EAAE,GAAGL,kBAAkB,CAACG,OAAD,EAAUC,aAAV,CAA3B;EAAA,IAAqDE,KAAK,GAAGD,EAAE,CAAC,CAAD,CAA/D;EAAA,IAAoEE,OAAO,GAAGF,EAAE,CAAC,CAAD,CAAhF;;EACA,IAAIG,EAAE,GAAGZ,YAAY,CAACM,QAAD,EAAWI,KAAX,EAAkBH,OAAlB,CAArB;EAAA,IAAiDM,KAAK,GAAGD,EAAE,CAACC,KAA5D;EAAA,IAAmEC,UAAU,GAAGF,EAAE,CAACE,UAAnF;EAAA,IAA+FC,kBAAkB,GAAGH,EAAE,CAACG,kBAAvH;EAAA,IAA2IC,eAAe,GAAGJ,EAAE,CAACI,eAAhK;;EACA,IAAIT,OAAO,CAACU,SAAR,IAAqB,CAACV,OAAO,CAACU,SAAR,CAAkBC,aAA5C,EAA2D;IACvD,IAAIC,gBAAgB,GAAGlB,oBAAoB,CAACY,KAAD,EAAQH,KAAK,CAACU,aAAd,EAA6Bb,OAAO,CAACU,SAAR,CAAkBI,OAA/C,CAA3C;;IACA,IAAI,CAACnB,aAAa,CAACiB,gBAAD,EAAmBT,KAAK,CAACU,aAAzB,EAAwCb,OAAO,CAACU,SAAR,CAAkBI,OAA1D,CAAlB,EAAsF;MAClF;MACA;MACAV,OAAO,CAACW,gBAAR,CAAyBH,gBAAzB;IACH;EACJ;;EACD,OAAOlC,QAAQ,CAAC;IAAE4B,KAAK,EAAEA,KAAT;IAAgBE,kBAAkB,EAAEA,kBAApC;IAAwDJ,OAAO,EAAEA;EAAjE,CAAD,EAA6ER,eAAe,CAACI,OAAD,EAAUG,KAAV,EAAiBC,OAAjB,EAA0BH,aAA1B,EAAyC;IAChJQ,eAAe,EAAEA,eAD+H;IAEhJF,UAAU,EAAEA,UAFoI;IAGhJR,QAAQ,EAAEA;EAHsI,CAAzC,CAA5F,CAAf;AAKH"},"metadata":{},"sourceType":"module"}