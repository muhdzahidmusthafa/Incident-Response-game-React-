{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useRef } from 'react';\nimport InternalBox from '../../../box/internal';\nimport { InternalButton } from '../../../button/internal';\nimport InternalSpaceBetween from '../../../space-between/internal';\nimport styles from './styles.css.js';\nimport { fireNonCancelableEvent } from '../../../internal/events/index';\nimport { CongratulationScreen } from './congratulation-screen';\nimport { TaskList } from './task-list';\nimport { useVisualRefresh } from '../../../internal/hooks/use-visual-mode';\nexport default function TutorialDetailView(_a) {\n  var tutorial = _a.tutorial,\n      onExitTutorialHandler = _a.onExitTutorial,\n      _b = _a.currentStepIndex,\n      currentStepIndex = _b === void 0 ? 0 : _b,\n      onFeedbackClickHandler = _a.onFeedbackClick,\n      i18nStrings = _a.i18nStrings;\n  var refreshRef = useRef(null);\n  var isRefresh = useVisualRefresh(refreshRef);\n  var onExitTutorial = useCallback(function () {\n    fireNonCancelableEvent(onExitTutorialHandler, {\n      tutorial: tutorial\n    });\n  }, [onExitTutorialHandler, tutorial]);\n  var onFeedbackClick = useCallback(function () {\n    fireNonCancelableEvent(onFeedbackClickHandler, {\n      tutorial: tutorial\n    });\n  }, [onFeedbackClickHandler, tutorial]);\n  return React.createElement(React.Fragment, null, React.createElement(InternalSpaceBetween, {\n    size: \"xl\"\n  }, React.createElement(\"div\", {\n    className: styles['tutorial-title'],\n    ref: refreshRef\n  }, React.createElement(InternalButton, {\n    variant: \"icon\",\n    onClick: onExitTutorial,\n    ariaLabel: i18nStrings.labelExitTutorial,\n    formAction: \"none\",\n    iconName: \"arrow-left\"\n  }), React.createElement(InternalBox, {\n    variant: \"h2\",\n    fontSize: isRefresh ? 'heading-m' : 'heading-l',\n    padding: {\n      top: 'xxs'\n    },\n    margin: {\n      left: 's'\n    }\n  }, tutorial.title)), tutorial.completed ? React.createElement(CongratulationScreen, {\n    onFeedbackClick: onFeedbackClick,\n    i18nStrings: i18nStrings\n  }, tutorial.completedScreenDescription) : React.createElement(TaskList, {\n    tasks: tutorial.tasks,\n    onExitTutorial: onExitTutorial,\n    currentGlobalStepIndex: currentStepIndex,\n    i18nStrings: i18nStrings\n  })));\n}","map":{"version":3,"mappings":"AAAA;AACA;AACA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,MAA7B,QAA2C,OAA3C;AAEA,OAAOC,WAAP,MAAwB,uBAAxB;AACA,SAASC,cAAT,QAA+B,0BAA/B;AACA,OAAOC,oBAAP,MAAiC,iCAAjC;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAASC,sBAAT,QAAuC,gCAAvC;AAEA,SAASC,oBAAT,QAAqC,yBAArC;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,SAASC,gBAAT,QAAiC,yCAAjC;AAEA,eAAc,SAAUC,kBAAV,CAA6BC,EAA7B,EAYb;MAXCC,QAAQ;MACQC,qBAAqB;MACrCC;MAAAC,gBAAgB,mBAAG,CAAH,GAAID;MACHE,sBAAsB;MACvCC,WAAW;EAQX,IAAMC,UAAU,GAAGjB,MAAM,CAAC,IAAD,CAAzB;EACA,IAAMkB,SAAS,GAAGV,gBAAgB,CAACS,UAAD,CAAlC;EAEA,IAAME,cAAc,GAAGpB,WAAW,CAAC;IACjCM,sBAAsB,CAACO,qBAAD,EAAwB;MAAED,QAAQ;IAAV,CAAxB,CAAtB;EACD,CAFiC,EAE/B,CAACC,qBAAD,EAAwBD,QAAxB,CAF+B,CAAlC;EAIA,IAAMS,eAAe,GAAGrB,WAAW,CAAC;IAClCM,sBAAsB,CAACU,sBAAD,EAAyB;MAAEJ,QAAQ;IAAV,CAAzB,CAAtB;EACD,CAFkC,EAEhC,CAACI,sBAAD,EAAyBJ,QAAzB,CAFgC,CAAnC;EAIA,OACEb,0CACEA,oBAACK,oBAAD,EAAqB;IAACkB,IAAI,EAAC;EAAN,CAArB,EACEvB;IAAKwB,SAAS,EAAElB,MAAM,CAAC,gBAAD,CAAtB;IAA0CmB,GAAG,EAAEN;EAA/C,GACEnB,oBAACI,cAAD,EAAe;IACbsB,OAAO,EAAC,MADK;IAEbC,OAAO,EAAEN,cAFI;IAGbO,SAAS,EAAEV,WAAW,CAACW,iBAHV;IAIbC,UAAU,EAAC,MAJE;IAKbC,QAAQ,EAAC;EALI,CAAf,CADF,EASE/B,oBAACG,WAAD,EAAY;IACVuB,OAAO,EAAC,IADE;IAEVM,QAAQ,EAAEZ,SAAS,GAAG,WAAH,GAAiB,WAF1B;IAGVa,OAAO,EAAE;MAAEC,GAAG,EAAE;IAAP,CAHC;IAIVC,MAAM,EAAE;MAAEC,IAAI,EAAE;IAAR;EAJE,CAAZ,EAMGvB,QAAQ,CAACwB,KANZ,CATF,CADF,EAmBGxB,QAAQ,CAACyB,SAAT,GACCtC,oBAACQ,oBAAD,EAAqB;IAACc,eAAe,EAAEA,eAAlB;IAAmCJ,WAAW,EAAEA;EAAhD,CAArB,EACGL,QAAQ,CAAC0B,0BADZ,CADD,GAKCvC,oBAACS,QAAD,EAAS;IACP+B,KAAK,EAAE3B,QAAQ,CAAC2B,KADT;IAEPnB,cAAc,EAAEA,cAFT;IAGPoB,sBAAsB,EAAEzB,gBAHjB;IAIPE,WAAW,EAAEA;EAJN,CAAT,CAxBJ,CADF,CADF;AAoCD","names":["React","useCallback","useRef","InternalBox","InternalButton","InternalSpaceBetween","styles","fireNonCancelableEvent","CongratulationScreen","TaskList","useVisualRefresh","TutorialDetailView","_a","tutorial","onExitTutorialHandler","_b","currentStepIndex","onFeedbackClickHandler","i18nStrings","refreshRef","isRefresh","onExitTutorial","onFeedbackClick","size","className","ref","variant","onClick","ariaLabel","labelExitTutorial","formAction","iconName","fontSize","padding","top","margin","left","title","completed","completedScreenDescription","tasks","currentGlobalStepIndex"],"sourceRoot":"","sources":["../../../../../src/tutorial-panel/components/tutorial-detail-view/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useRef } from 'react';\nimport { TutorialPanelProps } from '../../interfaces';\nimport InternalBox from '../../../box/internal';\nimport { InternalButton } from '../../../button/internal';\nimport InternalSpaceBetween from '../../../space-between/internal';\nimport styles from './styles.css.js';\nimport { fireNonCancelableEvent } from '../../../internal/events/index';\nimport { HotspotContext } from '../../../annotation-context/context';\nimport { CongratulationScreen } from './congratulation-screen';\nimport { TaskList } from './task-list';\nimport { useVisualRefresh } from '../../../internal/hooks/use-visual-mode';\n\nexport default function TutorialDetailView({\n  tutorial,\n  onExitTutorial: onExitTutorialHandler,\n  currentStepIndex = 0,\n  onFeedbackClick: onFeedbackClickHandler,\n  i18nStrings,\n}: {\n  tutorial: TutorialPanelProps.Tutorial;\n  onExitTutorial: HotspotContext['onExitTutorial'];\n  currentStepIndex: HotspotContext['currentStepIndex'];\n  onFeedbackClick: TutorialPanelProps['onFeedbackClick'];\n  i18nStrings: TutorialPanelProps['i18nStrings'];\n}) {\n  const refreshRef = useRef(null);\n  const isRefresh = useVisualRefresh(refreshRef);\n\n  const onExitTutorial = useCallback(() => {\n    fireNonCancelableEvent(onExitTutorialHandler, { tutorial });\n  }, [onExitTutorialHandler, tutorial]);\n\n  const onFeedbackClick = useCallback(() => {\n    fireNonCancelableEvent(onFeedbackClickHandler, { tutorial });\n  }, [onFeedbackClickHandler, tutorial]);\n\n  return (\n    <>\n      <InternalSpaceBetween size=\"xl\">\n        <div className={styles['tutorial-title']} ref={refreshRef}>\n          <InternalButton\n            variant=\"icon\"\n            onClick={onExitTutorial}\n            ariaLabel={i18nStrings.labelExitTutorial}\n            formAction=\"none\"\n            iconName=\"arrow-left\"\n          />\n\n          <InternalBox\n            variant=\"h2\"\n            fontSize={isRefresh ? 'heading-m' : 'heading-l'}\n            padding={{ top: 'xxs' }}\n            margin={{ left: 's' }}\n          >\n            {tutorial.title}\n          </InternalBox>\n        </div>\n        {tutorial.completed ? (\n          <CongratulationScreen onFeedbackClick={onFeedbackClick} i18nStrings={i18nStrings}>\n            {tutorial.completedScreenDescription}\n          </CongratulationScreen>\n        ) : (\n          <TaskList\n            tasks={tutorial.tasks}\n            onExitTutorial={onExitTutorial}\n            currentGlobalStepIndex={currentStepIndex}\n            i18nStrings={i18nStrings}\n          />\n        )}\n      </InternalSpaceBetween>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}