{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { createContext, useContext, useState } from 'react';\nvar defaultCtx = {\n  state: {\n    view: 'utilities',\n    data: null\n  },\n  setState: function () {}\n};\nexport var ViewContext = createContext(defaultCtx);\nexport var useNavigate = function () {\n  var setState = useContext(ViewContext).setState;\n\n  var navigate = function (view, data) {\n    setState({\n      view: view,\n      data: data\n    });\n  };\n\n  return navigate;\n};\nexport var Route = function (_a) {\n  var view = _a.view,\n      element = _a.element;\n  var state = useContext(ViewContext).state;\n\n  if (view === state.view) {\n    if (typeof element === 'function') {\n      return element(state.data);\n    }\n\n    return React.createElement(React.Fragment, null, element);\n  }\n\n  return null;\n};\n\nvar Router = function (_a) {\n  var children = _a.children;\n\n  var _b = useState({\n    view: 'utilities',\n    data: null\n  }),\n      state = _b[0],\n      setState = _b[1];\n\n  return React.createElement(ViewContext.Provider, {\n    value: {\n      state: state,\n      setState: setState\n    }\n  }, children);\n};\n\nexport default Router;","map":{"version":3,"mappings":"AAAA;AACA;AACA,OAAOA,KAAP,IAAgBC,aAAhB,EAAyDC,UAAzD,EAAqEC,QAArE,QAAqF,OAArF;AAsBA,IAAMC,UAAU,GAAiB;EAAEC,KAAK,EAAE;IAAEC,IAAI,EAAE,WAAR;IAAqBC,IAAI,EAAE;EAA3B,CAAT;EAA4CC,QAAQ,EAAE,aAAQ;AAA9D,CAAjC;AACA,OAAO,IAAMC,WAAW,GAAGR,aAAa,CAAeG,UAAf,CAAjC;AAEP,OAAO,IAAMM,WAAW,GAAG;EACjB,YAAQ,GAAKR,UAAU,CAACO,WAAD,CAAV,CAAuBD,QAApC;;EAER,IAAMG,QAAQ,GAAG,UAACL,IAAD,EAAaC,IAAb,EAAsB;IACrCC,QAAQ,CAAC;MAAEF,IAAI,MAAN;MAAQC,IAAI;IAAZ,CAAD,CAAR;EACD,CAFD;;EAIA,OAAOI,QAAP;AACD,CARM;AAeP,OAAO,IAAMC,KAAK,GAAG,UAACC,EAAD,EAA8B;MAA3BP,IAAI;MAAEQ,OAAO;EAC3B,SAAK,GAAKZ,UAAU,CAACO,WAAD,CAAV,CAAuBJ,KAAjC;;EAER,IAAIC,IAAI,KAAKD,KAAK,CAACC,IAAnB,EAAyB;IACvB,IAAI,OAAOQ,OAAP,KAAmB,UAAvB,EAAmC;MACjC,OAAOA,OAAO,CAACT,KAAK,CAACE,IAAP,CAAd;IACD;;IAED,OAAOP,0CAAGc,OAAH,CAAP;EACD;;EAED,OAAO,IAAP;AACD,CAZM;;AAkBP,IAAMC,MAAM,GAAG,UAACF,EAAD,EAA0B;MAAvBG,QAAQ;;EAClB,SAAoBb,QAAQ,CAAa;IAAEG,IAAI,EAAE,WAAR;IAAqBC,IAAI,EAAE;EAA3B,CAAb,CAA5B;EAAA,IAACF,KAAK,QAAN;EAAA,IAAQG,QAAQ,QAAhB;;EACN,OAAOR,oBAACS,WAAW,CAACQ,QAAb,EAAqB;IAACC,KAAK,EAAE;MAAEb,KAAK,OAAP;MAASG,QAAQ;IAAjB;EAAR,CAArB,EAAmDQ,QAAnD,CAAP;AACD,CAHD;;AAKA,eAAeD,MAAf","names":["React","createContext","useContext","useState","defaultCtx","state","view","data","setState","ViewContext","useNavigate","navigate","Route","_a","element","Router","children","Provider","value"],"sourceRoot":"","sources":["../../../../../src/top-navigation/parts/overflow-menu/router.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { createContext, Dispatch, SetStateAction, useContext, useState } from 'react';\n\ntype View = 'utilities' | 'dropdown-menu';\n\ninterface RouteData {\n  headerText?: string;\n  headerSecondaryText?: string;\n  definition?: any;\n\n  utilityIndex?: number;\n}\n\ninterface RouteState {\n  view: View;\n  data: RouteData | null;\n}\n\ninterface IViewContext {\n  state: RouteState;\n  setState: Dispatch<SetStateAction<RouteState>>;\n}\n\nconst defaultCtx: IViewContext = { state: { view: 'utilities', data: null }, setState: () => {} };\nexport const ViewContext = createContext<IViewContext>(defaultCtx);\n\nexport const useNavigate = () => {\n  const { setState } = useContext(ViewContext);\n\n  const navigate = (view: View, data: any) => {\n    setState({ view, data });\n  };\n\n  return navigate;\n};\n\ninterface RouteProps {\n  view: View;\n  element?: React.ReactNode | ((data: RouteData | null) => React.ReactElement);\n}\n\nexport const Route = ({ view, element }: RouteProps) => {\n  const { state } = useContext(ViewContext);\n\n  if (view === state.view) {\n    if (typeof element === 'function') {\n      return element(state.data);\n    }\n\n    return <>{element}</>;\n  }\n\n  return null;\n};\n\ninterface RouterProps {\n  children?: React.ReactNode;\n}\n\nconst Router = ({ children }: RouterProps) => {\n  const [state, setState] = useState<RouteState>({ view: 'utilities', data: null });\n  return <ViewContext.Provider value={{ state, setState }}>{children}</ViewContext.Provider>;\n};\n\nexport default Router;\n"]},"metadata":{},"sourceType":"module"}