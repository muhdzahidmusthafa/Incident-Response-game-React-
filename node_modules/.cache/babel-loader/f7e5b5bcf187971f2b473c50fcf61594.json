{"ast":null,"code":"import { __assign } from \"tslib\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react';\nimport clsx from 'clsx';\nimport FocusLock from 'react-focus-lock';\nimport { useNavigate } from '../router';\nimport Header from '../header';\nimport { SubmenuItem } from '../menu-item';\nimport { useUniqueId } from '../../../../internal/hooks/use-unique-id';\nimport styles from '../../../styles.css.js';\nimport { fireCancelableEvent } from '../../../../internal/events';\n\nvar SubmenuView = function (_a) {\n  var onClose = _a.onClose,\n      utilityIndex = _a.utilityIndex,\n      headerText = _a.headerText,\n      headerSecondaryText = _a.headerSecondaryText,\n      dismissIconAriaLabel = _a.dismissIconAriaLabel,\n      backIconAriaLabel = _a.backIconAriaLabel,\n      definition = _a.definition;\n  var navigate = useNavigate();\n  var headerId = useUniqueId('overflow-menu-header');\n  return React.createElement(FocusLock, {\n    returnFocus: true\n  }, React.createElement(Header, {\n    secondaryText: headerSecondaryText,\n    dismissIconAriaLabel: dismissIconAriaLabel,\n    backIconAriaLabel: backIconAriaLabel,\n    onClose: onClose,\n    onBack: function () {\n      return navigate('utilities', {\n        utilityIndex: utilityIndex\n      });\n    }\n  }, React.createElement(\"span\", {\n    id: headerId\n  }, headerText)), React.createElement(\"ul\", {\n    className: clsx(styles['overflow-menu-list'], styles['overflow-menu-list-submenu']),\n    \"aria-labelledby\": headerId\n  }, definition.items.map(function (item, index) {\n    return React.createElement(SubmenuItem, __assign({\n      key: index\n    }, item, {\n      onItemClick: function (item) {\n        fireCancelableEvent(definition.onItemClick, {\n          id: item.id,\n          href: item.href,\n          external: item.external\n        });\n        onClose === null || onClose === void 0 ? void 0 : onClose();\n      }\n    }));\n  })));\n};\n\nexport default SubmenuView;","map":{"version":3,"mappings":"kCAAA;AACA;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AAEA,SAASC,WAAT,QAA4B,WAA5B;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,SAASC,WAAT,QAA4B,0CAA5B;AAKA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,SAASC,mBAAT,QAAoC,6BAApC;;AAOA,IAAMC,WAAW,GAAG,UAACC,EAAD,EAQD;MAPjBC,OAAO;MACPC,YAAY;MACZC,UAAU;MACVC,mBAAmB;MACnBC,oBAAoB;MACpBC,iBAAiB;MACjBC,UAAU;EAEV,IAAMC,QAAQ,GAAGf,WAAW,EAA5B;EACA,IAAMgB,QAAQ,GAAGb,WAAW,CAAC,sBAAD,CAA5B;EAEA,OACEN,oBAACE,SAAD,EAAU;IAACkB,WAAW,EAAE;EAAd,CAAV,EACEpB,oBAACI,MAAD,EAAO;IACLiB,aAAa,EAAEP,mBADV;IAELC,oBAAoB,EAAEA,oBAFjB;IAGLC,iBAAiB,EAAEA,iBAHd;IAILL,OAAO,EAAEA,OAJJ;IAKLW,MAAM,EAAE;MAAM,eAAQ,CAAC,WAAD,EAAc;QAAEV,YAAY;MAAd,CAAd,CAAR;IAAuC;EALhD,CAAP,EAOEZ;IAAMuB,EAAE,EAAEJ;EAAV,GAAqBN,UAArB,CAPF,CADF,EAUEb;IACEwB,SAAS,EAAEvB,IAAI,CAACM,MAAM,CAAC,oBAAD,CAAP,EAA+BA,MAAM,CAAC,4BAAD,CAArC,CADjB;IACqF,mBAClEY;EAFnB,GAIIF,UAAqD,CAACQ,KAAtD,CAA4DC,GAA5D,CAAgE,UAACC,IAAD,EAAOC,KAAP,EAAY;IAAK,OACjF5B,oBAACK,WAAD,EAAYwB;MACVC,GAAG,EAAEF;IADK,GAEND,IAFM,EAEF;MACRI,WAAW,EAAE,gBAAI;QACfvB,mBAAmB,CAACS,UAAU,CAACc,WAAZ,EAAyB;UAAER,EAAE,EAAEI,IAAI,CAACJ,EAAX;UAAeS,IAAI,EAAEL,IAAI,CAACK,IAA1B;UAAgCC,QAAQ,EAAEN,IAAI,CAACM;QAA/C,CAAzB,CAAnB;QACAtB,OAAO,SAAP,WAAO,WAAP,GAAO,MAAP,UAAO,EAAP;MACD;IAJO,CAFE,CAAZ,CADiF;EASlF,CATC,CAJJ,CAVF,CADF;AA4BD,CAxCD;;AA0CA,eAAeF,WAAf","names":["React","clsx","FocusLock","useNavigate","Header","SubmenuItem","useUniqueId","styles","fireCancelableEvent","SubmenuView","_a","onClose","utilityIndex","headerText","headerSecondaryText","dismissIconAriaLabel","backIconAriaLabel","definition","navigate","headerId","returnFocus","secondaryText","onBack","id","className","items","map","item","index","__assign","key","onItemClick","href","external"],"sourceRoot":"","sources":["../../../../../../src/top-navigation/parts/overflow-menu/views/submenu.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\nimport FocusLock from 'react-focus-lock';\n\nimport { useNavigate } from '../router';\nimport Header from '../header';\nimport { SubmenuItem } from '../menu-item';\nimport { useUniqueId } from '../../../../internal/hooks/use-unique-id';\n\nimport { TopNavigationProps } from '../../../interfaces';\n\nimport { View } from '..';\nimport styles from '../../../styles.css.js';\nimport { fireCancelableEvent } from '../../../../internal/events';\n\ninterface SubmenuViewProps extends View {\n  definition: TopNavigationProps.MenuDropdownUtility;\n  utilityIndex?: number;\n}\n\nconst SubmenuView = ({\n  onClose,\n  utilityIndex,\n  headerText,\n  headerSecondaryText,\n  dismissIconAriaLabel,\n  backIconAriaLabel,\n  definition,\n}: SubmenuViewProps) => {\n  const navigate = useNavigate();\n  const headerId = useUniqueId('overflow-menu-header');\n\n  return (\n    <FocusLock returnFocus={true}>\n      <Header\n        secondaryText={headerSecondaryText}\n        dismissIconAriaLabel={dismissIconAriaLabel}\n        backIconAriaLabel={backIconAriaLabel}\n        onClose={onClose}\n        onBack={() => navigate('utilities', { utilityIndex })}\n      >\n        <span id={headerId}>{headerText}</span>\n      </Header>\n      <ul\n        className={clsx(styles['overflow-menu-list'], styles['overflow-menu-list-submenu'])}\n        aria-labelledby={headerId}\n      >\n        {(definition as TopNavigationProps.MenuDropdownUtility).items.map((item, index) => (\n          <SubmenuItem\n            key={index}\n            {...item}\n            onItemClick={item => {\n              fireCancelableEvent(definition.onItemClick, { id: item.id, href: item.href, external: item.external });\n              onClose?.();\n            }}\n          />\n        ))}\n      </ul>\n    </FocusLock>\n  );\n};\n\nexport default SubmenuView;\n"]},"metadata":{},"sourceType":"module"}