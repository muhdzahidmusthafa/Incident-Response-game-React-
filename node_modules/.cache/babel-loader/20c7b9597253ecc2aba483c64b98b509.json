{"ast":null,"code":"import { __assign, __rest } from \"tslib\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react';\nimport clsx from 'clsx';\nimport flattenChildren from 'react-keyed-flatten-children';\nimport InternalGrid from '../grid/internal';\nimport { getBaseProps } from '../internal/base-component';\nimport { repeat } from './util';\nimport styles from './styles.css.js';\nexport var COLUMN_TRIGGERS = ['default', 'xxs', 'xs'];\nvar COLUMN_DEFS = {\n  1: {\n    colspan: {\n      \"default\": 12,\n      xxs: 12,\n      xs: 12\n    }\n  },\n  2: {\n    colspan: {\n      \"default\": 12,\n      xxs: 6,\n      xs: 6\n    }\n  },\n  3: {\n    colspan: {\n      \"default\": 12,\n      xxs: 6,\n      xs: 4\n    }\n  },\n  4: {\n    colspan: {\n      \"default\": 12,\n      xxs: 6,\n      xs: 3\n    }\n  }\n};\n/**\n * A responsive grid layout.\n */\n\nexport default React.forwardRef(function ColumnLayout(_a, ref) {\n  var _b;\n\n  var _c;\n\n  var _d = _a.columns,\n      columns = _d === void 0 ? 1 : _d,\n      _e = _a.variant,\n      variant = _e === void 0 ? 'default' : _e,\n      _f = _a.borders,\n      borders = _f === void 0 ? 'none' : _f,\n      _g = _a.disableGutters,\n      disableGutters = _g === void 0 ? false : _g,\n      children = _a.children,\n      __breakpoint = _a.__breakpoint,\n      __internalRootRef = _a.__internalRootRef,\n      restProps = __rest(_a, [\"columns\", \"variant\", \"borders\", \"disableGutters\", \"children\", \"__breakpoint\", \"__internalRootRef\"]);\n\n  var baseProps = getBaseProps(restProps);\n  var isTextGridVariant = variant === 'text-grid';\n  var shouldDisableGutters = !isTextGridVariant && disableGutters;\n  var shouldHaveHorizontalBorders = !isTextGridVariant && (borders === 'horizontal' || borders === 'all');\n  var shouldHaveVerticalBorders = !isTextGridVariant && (borders === 'vertical' || borders === 'all');\n  /*\n   Flattening the children allows us to \"see through\" React Fragments and nested arrays.\n   */\n\n  var flattenedChildren = flattenChildren(children);\n  return React.createElement(\"div\", __assign({}, baseProps, {\n    className: clsx(baseProps.className, styles['column-layout']),\n    ref: __internalRootRef\n  }), React.createElement(InternalGrid, {\n    ref: ref,\n    disableGutters: true,\n    gridDefinition: repeat((_c = COLUMN_DEFS[columns]) !== null && _c !== void 0 ? _c : {}, flattenedChildren.length),\n    className: clsx(styles.grid, styles[\"grid-columns-\".concat(columns)], styles[\"grid-variant-\".concat(variant)], (_b = {}, _b[styles['grid-horizontal-borders']] = shouldHaveHorizontalBorders, _b[styles['grid-vertical-borders']] = shouldHaveVerticalBorders, _b[styles['grid-no-gutters']] = shouldDisableGutters, _b)),\n    __breakpoint: __breakpoint,\n    __responsiveClassName: function (breakpoint) {\n      return breakpoint && styles[\"grid-breakpoint-\".concat(breakpoint)];\n    }\n  }, children));\n});","map":{"version":3,"mappings":"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","names":["React","clsx","flattenChildren","InternalGrid","getBaseProps","repeat","styles","COLUMN_TRIGGERS","COLUMN_DEFS","colspan","xxs","xs","forwardRef","ColumnLayout","_a","ref","_d","_e","variant","_f","borders","_g","disableGutters","children","__breakpoint","__internalRootRef","restProps","baseProps","isTextGridVariant","shouldDisableGutters","shouldHaveHorizontalBorders","shouldHaveVerticalBorders","flattenedChildren","className","gridDefinition","columns","_c","length","grid","_b","__responsiveClassName","breakpoint"],"sourceRoot":"","sources":["../../../src/column-layout/internal.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\nimport flattenChildren from 'react-keyed-flatten-children';\nimport InternalGrid from '../grid/internal';\nimport { GridProps } from '../grid/interfaces';\nimport { getBaseProps } from '../internal/base-component';\nimport { repeat } from './util';\nimport styles from './styles.css.js';\nimport { InternalColumnLayoutProps } from './interfaces';\n\nexport const COLUMN_TRIGGERS = ['default', 'xxs', 'xs'] as const;\nexport type ColumnLayoutBreakpoint = typeof COLUMN_TRIGGERS[number] | null;\nconst COLUMN_DEFS: Record<number, GridProps.ElementDefinition | undefined> = {\n  1: { colspan: { default: 12, xxs: 12, xs: 12 } },\n  2: { colspan: { default: 12, xxs: 6, xs: 6 } },\n  3: { colspan: { default: 12, xxs: 6, xs: 4 } },\n  4: { colspan: { default: 12, xxs: 6, xs: 3 } },\n};\n\n/**\n * A responsive grid layout.\n */\nexport default React.forwardRef(function ColumnLayout(\n  {\n    columns = 1,\n    variant = 'default',\n    borders = 'none',\n    disableGutters = false,\n    children,\n    __breakpoint,\n    __internalRootRef,\n    ...restProps\n  }: InternalColumnLayoutProps,\n  ref?: React.Ref<any>\n) {\n  const baseProps = getBaseProps(restProps);\n  const isTextGridVariant = variant === 'text-grid';\n  const shouldDisableGutters = !isTextGridVariant && disableGutters;\n  const shouldHaveHorizontalBorders = !isTextGridVariant && (borders === 'horizontal' || borders === 'all');\n  const shouldHaveVerticalBorders = !isTextGridVariant && (borders === 'vertical' || borders === 'all');\n  /*\n   Flattening the children allows us to \"see through\" React Fragments and nested arrays.\n   */\n  const flattenedChildren = flattenChildren(children);\n\n  return (\n    <div {...baseProps} className={clsx(baseProps.className, styles['column-layout'])} ref={__internalRootRef}>\n      <InternalGrid\n        ref={ref}\n        disableGutters={true}\n        gridDefinition={repeat(COLUMN_DEFS[columns] ?? {}, flattenedChildren.length)}\n        className={clsx(styles.grid, styles[`grid-columns-${columns}`], styles[`grid-variant-${variant}`], {\n          [styles['grid-horizontal-borders']]: shouldHaveHorizontalBorders,\n          [styles['grid-vertical-borders']]: shouldHaveVerticalBorders,\n          [styles['grid-no-gutters']]: shouldDisableGutters,\n        })}\n        __breakpoint={__breakpoint}\n        __responsiveClassName={breakpoint => breakpoint && styles[`grid-breakpoint-${breakpoint}`]}\n      >\n        {children}\n      </InternalGrid>\n    </div>\n  );\n});\n"]},"metadata":{},"sourceType":"module"}